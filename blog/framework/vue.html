<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue3 基础知识 | tayce&#39;s library</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/logo.jpg">
    <link rel="stylesheet" href="/styles/index.css">
    <meta name="description" content="移动的图书馆">
    
    <link rel="preload" href="/assets/css/0.styles.b67afc4c.css" as="style"><link rel="preload" href="/assets/js/app.f9c3f30c.js" as="script"><link rel="preload" href="/assets/js/2.b7af9bcd.js" as="script"><link rel="preload" href="/assets/js/1.6eac4c2f.js" as="script"><link rel="preload" href="/assets/js/40.8ce3c438.js" as="script"><link rel="prefetch" href="/assets/js/10.cac3315f.js"><link rel="prefetch" href="/assets/js/11.22aa9600.js"><link rel="prefetch" href="/assets/js/12.2a5384fa.js"><link rel="prefetch" href="/assets/js/13.820e2af8.js"><link rel="prefetch" href="/assets/js/14.11b318eb.js"><link rel="prefetch" href="/assets/js/15.4359e6dc.js"><link rel="prefetch" href="/assets/js/16.42eda455.js"><link rel="prefetch" href="/assets/js/17.3e808b6b.js"><link rel="prefetch" href="/assets/js/18.7130fbcf.js"><link rel="prefetch" href="/assets/js/19.58d29412.js"><link rel="prefetch" href="/assets/js/20.4da7041e.js"><link rel="prefetch" href="/assets/js/21.a6bf00fc.js"><link rel="prefetch" href="/assets/js/22.4de2c7de.js"><link rel="prefetch" href="/assets/js/23.a4fb8c1e.js"><link rel="prefetch" href="/assets/js/24.c3aa6e5e.js"><link rel="prefetch" href="/assets/js/25.519bcaa7.js"><link rel="prefetch" href="/assets/js/26.908b218a.js"><link rel="prefetch" href="/assets/js/27.ead5efbd.js"><link rel="prefetch" href="/assets/js/28.f0099a76.js"><link rel="prefetch" href="/assets/js/29.de5d9f07.js"><link rel="prefetch" href="/assets/js/3.3d769f85.js"><link rel="prefetch" href="/assets/js/30.8a485245.js"><link rel="prefetch" href="/assets/js/31.229bf691.js"><link rel="prefetch" href="/assets/js/32.9bb2b8d8.js"><link rel="prefetch" href="/assets/js/33.41b2fb5b.js"><link rel="prefetch" href="/assets/js/34.7539eb47.js"><link rel="prefetch" href="/assets/js/35.47144861.js"><link rel="prefetch" href="/assets/js/36.3f061274.js"><link rel="prefetch" href="/assets/js/37.c3577050.js"><link rel="prefetch" href="/assets/js/38.78ad621f.js"><link rel="prefetch" href="/assets/js/39.d5eafe9c.js"><link rel="prefetch" href="/assets/js/4.b09b1dd9.js"><link rel="prefetch" href="/assets/js/41.0fe59981.js"><link rel="prefetch" href="/assets/js/42.aad61fb2.js"><link rel="prefetch" href="/assets/js/43.6b970b53.js"><link rel="prefetch" href="/assets/js/44.0f85b437.js"><link rel="prefetch" href="/assets/js/45.3f668e4c.js"><link rel="prefetch" href="/assets/js/46.e4f24bc3.js"><link rel="prefetch" href="/assets/js/47.346e64d5.js"><link rel="prefetch" href="/assets/js/48.c4d9666b.js"><link rel="prefetch" href="/assets/js/49.57ec0363.js"><link rel="prefetch" href="/assets/js/5.d2116699.js"><link rel="prefetch" href="/assets/js/50.0c8a5db9.js"><link rel="prefetch" href="/assets/js/51.8782a2cd.js"><link rel="prefetch" href="/assets/js/52.6f1a07d1.js"><link rel="prefetch" href="/assets/js/53.4b57668e.js"><link rel="prefetch" href="/assets/js/54.a926e336.js"><link rel="prefetch" href="/assets/js/55.ea5fe790.js"><link rel="prefetch" href="/assets/js/56.310bbcfd.js"><link rel="prefetch" href="/assets/js/57.6d8b5be5.js"><link rel="prefetch" href="/assets/js/58.ec9d1474.js"><link rel="prefetch" href="/assets/js/59.7fd99801.js"><link rel="prefetch" href="/assets/js/6.dc14cda6.js"><link rel="prefetch" href="/assets/js/60.dcb5d4d7.js"><link rel="prefetch" href="/assets/js/7.c4829e31.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.e1f8ac62.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b67afc4c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">tayce's library</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  🏠 Home
</a></div><div class="nav-item"><a href="/blog/linklist/" class="nav-link">
  💬 All
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  🏠 Home
</a></div><div class="nav-item"><a href="/blog/linklist/" class="nav-link">
  💬 All
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue3 基础知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/framework/vue.html#vue3-基础知识" class="sidebar-link">vue3 基础知识</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/framework/vue.html#理解-vue" class="sidebar-link">理解 vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#核心功能" class="sidebar-link">核心功能</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#声明式和命令式编程" class="sidebar-link">声明式和命令式编程</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#mvvm-模型" class="sidebar-link">MVVM 模型</a></li></ul></li><li><a href="/blog/framework/vue.html#vnode-virtual-node" class="sidebar-link">VNode(virtual node)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#虚拟-dom" class="sidebar-link">虚拟 dom</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#diff-算法" class="sidebar-link">diff 算法</a></li></ul></li><li><a href="/blog/framework/vue.html#语法和指令" class="sidebar-link">语法和指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#mustache-语法" class="sidebar-link">mustache 语法</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#v-once" class="sidebar-link">v-once</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#v-memo【⭐️3-2-】" class="sidebar-link">v-memo【⭐️3.2+】</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#v-text-和-v-html" class="sidebar-link">v-text 和 v-html</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#v-pre" class="sidebar-link">v-pre</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#v-cloak" class="sidebar-link">v-cloak</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#v-on" class="sidebar-link">v-on</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#v-bind" class="sidebar-link">v-bind</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#v-if-v-else-v-else-if-v-show" class="sidebar-link">v-if &amp; v-else &amp; v-else-if &amp; v-show</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#v-for" class="sidebar-link">v-for</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#template" class="sidebar-link">template</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#computed" class="sidebar-link">computed</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#watch" class="sidebar-link">watch</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#v-model" class="sidebar-link">v-model</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#组件的-v-model" class="sidebar-link">组件的 v-model</a></li></ul></li><li><a href="/blog/framework/vue.html#组件" class="sidebar-link">组件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/framework/vue.html#配置路径别名-vue-config-js" class="sidebar-link">配置路径别名(vue.config.js)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/framework/vue.html#配置路径-js-config-json" class="sidebar-link">配置路径(js.config.json )</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/framework/vue.html#scoped-原理" class="sidebar-link">scoped 原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/framework/vue.html#组件通信" class="sidebar-link">组件通信</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#props" class="sidebar-link">props</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#emits" class="sidebar-link">emits</a></li></ul></li><li><a href="/blog/framework/vue.html#非父子组件通信" class="sidebar-link">非父子组件通信</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#provide-和-inject" class="sidebar-link">provide 和 inject</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#事件总线" class="sidebar-link">事件总线</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#ref" class="sidebar-link">ref</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#parent和-root" class="sidebar-link">$parent和$root</a></li></ul></li><li><a href="/blog/framework/vue.html#插槽-slot" class="sidebar-link">插槽 slot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#基本使用-插槽默认内容" class="sidebar-link">基本使用 &amp; 插槽默认内容</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#具名插槽" class="sidebar-link">具名插槽</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#动态插槽名" class="sidebar-link">动态插槽名</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#渲染作用域" class="sidebar-link">渲染作用域</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#作用域插槽-子组件将值传递给父组件" class="sidebar-link">作用域插槽：子组件将值传递给父组件</a></li></ul></li><li><a href="/blog/framework/vue.html#动态组件" class="sidebar-link">动态组件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/framework/vue.html#keep-alive" class="sidebar-link">keep-alive</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#属性使用" class="sidebar-link">属性使用</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#keep-alive-生命周期" class="sidebar-link">keep-alive 生命周期</a></li></ul></li><li><a href="/blog/framework/vue.html#webpack-代码分包-异步组件" class="sidebar-link">webpack 代码分包/异步组件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/framework/vue.html#mixin" class="sidebar-link">mixin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#基础使用" class="sidebar-link">基础使用</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#合并规则" class="sidebar-link">合并规则</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#全局混入" class="sidebar-link">全局混入</a></li></ul></li><li><a href="/blog/framework/vue.html#从-options-api-到-composition-api" class="sidebar-link">从 options api 到 composition api</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#options-api-弊端" class="sidebar-link">options api 弊端</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#setup-函数" class="sidebar-link">setup 函数</a></li></ul></li><li><a href="/blog/framework/vue.html#composition-api" class="sidebar-link">composition api</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#reactive" class="sidebar-link">reactive</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#ref-2" class="sidebar-link">ref</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#readonly" class="sidebar-link">readonly</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#isproxy、isreactive、isreadonly、toraw、shallowreactive、shallowreadonly" class="sidebar-link">isProxy、isReactive、isReadonly、toRaw、shallowReactive、shallowReadonly</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#torefs" class="sidebar-link">toRefs</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#toref" class="sidebar-link">toRef</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#unref、isref、shallowref、triggerref" class="sidebar-link">unRef、isRef、shallowRef、triggerRef</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#在-setup-函数中不能使用-this" class="sidebar-link">在 setup 函数中不能使用 this</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#computed-2" class="sidebar-link">computed</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#ref-获取元素或组件" class="sidebar-link">ref 获取元素或组件</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#composition-api-vs-react-hook" class="sidebar-link">Composition Api vs React hook</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#watch-2" class="sidebar-link">watch</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#watcheffect" class="sidebar-link">watchEffect</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#definprops-和-defineemits" class="sidebar-link">definProps 和 defineEmits</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#defineexpose" class="sidebar-link">defineExpose</a></li></ul></li><li><a href="/blog/framework/vue.html#vue-router" class="sidebar-link">vue-router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#路由发展" class="sidebar-link">路由发展</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#vue-router-简介" class="sidebar-link">vue-router 简介</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#router-使用步骤" class="sidebar-link">router 使用步骤</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#router-link" class="sidebar-link">router-link</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#动态路由" class="sidebar-link">动态路由</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#路由跳转" class="sidebar-link">路由跳转</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#动态添加路由" class="sidebar-link">动态添加路由</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#删除路由" class="sidebar-link">删除路由</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#路由守卫" class="sidebar-link">路由守卫</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#状态管理-vuex" class="sidebar-link">状态管理（vuex）</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#单一状态树" class="sidebar-link">单一状态树</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#state" class="sidebar-link">state</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#getters" class="sidebar-link">getters</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#mutation" class="sidebar-link">mutation</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#actions" class="sidebar-link">actions</a></li></ul></li><li><a href="/blog/framework/vue.html#pinia" class="sidebar-link">pinia</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#pinia-和-vuex-的对比" class="sidebar-link">pinia 和 vuex 的对比</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#pinia-基础使用" class="sidebar-link">pinia 基础使用</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#store" class="sidebar-link">store</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#state-2" class="sidebar-link">state</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#getters-2" class="sidebar-link">getters</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#actions-2" class="sidebar-link">actions</a></li></ul></li><li><a href="/blog/framework/vue.html#axios" class="sidebar-link">axios</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#axios-请求方式" class="sidebar-link">axios 请求方式</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#常见配置项" class="sidebar-link">常见配置项</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#对-axios-实例进行公共配置" class="sidebar-link">对 axios 实例进行公共配置：</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#axios-创建实例" class="sidebar-link">axios 创建实例</a></li></ul></li><li><a href="/blog/framework/vue.html#vue3-新增的三个组件" class="sidebar-link">vue3 新增的三个组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#fragment" class="sidebar-link">Fragment</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#teleport" class="sidebar-link">Teleport</a></li><li class="sidebar-sub-header"><a href="/blog/framework/vue.html#suspense" class="sidebar-link">Suspense</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="vue3-基础知识"><a href="#vue3-基础知识" class="header-anchor">#</a> vue3 基础知识</h2> <h2 id="理解-vue"><a href="#理解-vue" class="header-anchor">#</a> 理解 vue</h2> <p>vue 基于标准 HTML、CSS 和 JavaScript 构建，并提供了一套声明式的、组件化的编程模型，帮助开发者高效地开发用户界面。</p> <h3 id="核心功能"><a href="#核心功能" class="header-anchor">#</a> 核心功能</h3> <ul><li><p>声明式渲染(Declarative Rendering)：Vue 基于标准 HTML 拓展了一套模板语法，使得我们可以声明式地描述最终输出的 HTML 和 JavaScript 状态之间的关系。</p></li> <li><p>响应性(Reactivity)：Vue 会自动跟踪 JavaScript 状态并在其发生变化时响应式地更新 DOM。</p></li></ul> <h3 id="声明式和命令式编程"><a href="#声明式和命令式编程" class="header-anchor">#</a> 声明式和命令式编程</h3> <p><img src="/images/vue/%E5%A3%B0%E6%98%8E%E5%BC%8F.png" alt=""></p> <h3 id="mvvm-模型"><a href="#mvvm-模型" class="header-anchor">#</a> MVVM 模型</h3> <p><img src="/images/vue/mvvm.png" alt=""></p> <p>vue 做了两件事：data bindings（绑定数据）和 dom listeners（监听事件）</p> <h2 id="vnode-virtual-node"><a href="#vnode-virtual-node" class="header-anchor">#</a> VNode(virtual node)</h2> <ul><li>无论是组件还是元素，在 vue 上呈现出的都是一个个 vnode</li> <li>vnode 本质是一个 js 对象</li></ul> <h3 id="虚拟-dom"><a href="#虚拟-dom" class="header-anchor">#</a> 虚拟 dom</h3> <p>template --&gt; vnode --&gt; 真实 dom</p> <p>模板中的每一个元素先形成 vnode，所有的 vnode 会形成树结构的虚拟 dom。</p> <p>虚拟 dom 有着广泛的用处：（方便项目跨平台）</p> <ul><li>可生成真实 dom，渲染在浏览器上</li> <li>可解析转化成移动端的 button/view/image/ios UIButton/UIView/UIimageView 等--以移动原生控件方式在移动端显示出来</li> <li>可渲染成桌面端部分控件</li> <li>可渲染到 vr 设备上的控件</li></ul> <h3 id="diff-算法"><a href="#diff-算法" class="header-anchor">#</a> diff 算法</h3> <p>vue 中对于列表更新的操作：</p> <ul><li>有 key，使用<code>patchKeyedChildren</code>方法</li></ul> <p><strong>过程：</strong></p> <p>从头开始遍历、比较，a 和 b 一致，继续进行遍历；</p> <p>c 和 f 因为 key 不一致，会 break 跳出循环；</p> <p>从尾部开始遍历，比较；</p> <p>如果旧节点遍历完毕，依然有新节点，那么就新增节点；</p> <p>如果新节点遍历完毕，仍然有旧节点，那么就移除旧节点。</p> <p><img src="/images/vue/%E8%8A%82%E7%82%B9.png" alt=""></p> <p><img src="/images/vue/%E8%8A%82%E7%82%B9%E7%A7%BB%E5%8A%A8.png" alt=""></p> <ul><li>没有 key，使用<code>patchUnkeyedChildren</code>方法</li></ul> <p><img src="/images/vue/%E6%B2%A1%E6%9C%89key.png" alt=""></p> <h2 id="语法和指令"><a href="#语法和指令" class="header-anchor">#</a> 语法和指令</h2> <h3 id="mustache-语法"><a href="#mustache-语法" class="header-anchor">#</a> mustache 语法</h3> <p><strong>用于文本插值</strong></p> <p>mustache 语法：可使用三元运算符或函数</p> <p><img src="/images/vue/mustache.png" alt=""></p> <h3 id="v-once"><a href="#v-once" class="header-anchor">#</a> <code>v-once</code></h3> <p><strong>用于一次性编译节点</strong></p> <p>【性能优化】当数据发生变化时，元素/组件及其所有子项将被当作静态内容并跳过渲染</p> <p>在 Vue 的编译过程中，当遇到 v-once 指令时，它会生成一个指令绑定函数，在这个函数中，会将节点的内容保存到变量中，并在之后的更新中直接使用这个变量的值，而不是重新执行表达式。</p> <p>简化的实现示例：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 将绑定的表达式计算的初始值保存在onceValue数据属性中</span>
<span class="token keyword">function</span> <span class="token function">doOnce</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>onceValue <span class="token operator">=</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>onceValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onceValue <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onceValue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'once'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// 在后续的DOM更新中，Vue会调用bind函数，它会检查onceValue是否已经被设置，如果设置了，则直接使用这个值，否则计算当前的表达式值并保存。</span>
  bind<span class="token punctuation">,</span>
  <span class="token literal-property property">inserted</span><span class="token operator">:</span> doOnce<span class="token punctuation">,</span>
  <span class="token literal-property property">update</span><span class="token operator">:</span> doOnce
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="v-memo【⭐️3-2-】"><a href="#v-memo【⭐️3-2-】" class="header-anchor">#</a> <code>v-memo</code>【⭐️3.2+】</h3> <ul><li><p>缓存一个模板的子树。在元素和组件上都可以使用。为了实现缓存，该指令需要传入一个固定长度的依赖值数组进行比较。如果数组里的每个值都与最后一次的渲染相同，那么整个子树的更新将被跳过(包括虚拟 DOM 的 vnode 创建)</p></li> <li><p>v-memo 传入空依赖数组 (<code>v-memo=&quot;[]&quot;</code>) 将与 v-once 效果相同</p></li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-memo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[valueA, valueB]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="使用场景示例"><a href="#使用场景示例" class="header-anchor">#</a> 使用场景示例</h4> <p>与 <code>v-for</code> 一起使用</p> <p>v-memo 仅用于性能至上场景中的微小优化，应该很少需要。最常见的情况可能是有助于渲染海量 v-for 列表 (长度超过 1000 的情况)：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-memo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[item.id === selected]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ID: {{ item.id }} - selected: {{ item.id === selected }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>...more child nodes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>当组件的 selected 状态改变，默认会重新创建大量的 vnode，尽管绝大部分都跟之前是一模一样的。v-memo 用在这里本质上是在说“只有当该项的被选中状态改变时才需要更新”。这使得每个选中状态没有变的项能完全重用之前的 vnode 并跳过差异比较。注意这里 memo 依赖数组中并不需要包含 item.id，因为 Vue 也会根据 item 的 :key 进行判断。</p> <h3 id="v-text-和-v-html"><a href="#v-text-和-v-html" class="header-anchor">#</a> <code>v-text</code> 和 <code>v-html</code></h3> <ul><li><p><code>v-text</code> 通过设置元素的 <code>textContent</code> 属性来实现。<code>textContent</code>和<code>innerText</code>的区别在于读取属性时，<code>innerText</code>不返回隐藏元素的文本，而<code>textContent</code>返回所有文本</p></li> <li><p><code>v-html</code> 通过设置元素的 <code>innerHTML</code> 属性来实现。<code>innerHTML</code> 属性不仅可以修改一个 DOM 节点的文本内容，还可以直接通过 HTML 片段修改 DOM 节点内部的子树</p></li> <li><p>在网站上动态渲染任意 HTML 是非常危险的，因为这非常容易造成 XSS 漏洞。请仅在内容安全可信时再使用 <code>v-html</code>，并且永远不要使用用户提供的 HTML 内容</p></li></ul> <h4 id="简化版实现v-text"><a href="#简化版实现v-text" class="header-anchor">#</a> 简化版实现<code>v-text</code></h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 创建一个简单的 v-text 指令的函数</span>
<span class="token keyword">function</span> <span class="token function">vText</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>textContent <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 假设 Vue 实例的代码如下</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Hello Vue!'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 在组件的 directives 选项中注册 v-text 指令</span>
  <span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">vText</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>binding<span class="token punctuation">.</span>oldValue <span class="token operator">!==</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">vText</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="简化版实现v-html"><a href="#简化版实现v-html" class="header-anchor">#</a> 简化版实现<code>v-html</code></h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 注册一个自定义指令 `v-html`</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// 当绑定元素插入到DOM中</span>
  <span class="token function-variable function">inserted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置元素的innerHTML为绑定的值</span>
    el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 当绑定的数据更新时</span>
  <span class="token function-variable function">update</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 更新元素的innerHTML</span>
    el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="v-pre"><a href="#v-pre" class="header-anchor">#</a> v-pre</h3> <p>跳过该元素及其所有子元素的编译，输出原始文本(展示原始的 Mustache 标签)，加快编译速度</p> <p>简化版实现<code>v-pre</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 假设的Vue编译器核心函数</span>
<span class="token keyword">function</span> <span class="token function">compile</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> children <span class="token operator">=</span> el<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> child <span class="token operator">=</span> children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> child<span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">'v-pre'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果是元素节点且含有v-pre指令，则跳过该元素的编译</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 对子元素进行递归编译</span>
    <span class="token function">compile</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="v-cloak"><a href="#v-cloak" class="header-anchor">#</a> v-cloak</h3> <h4 id="使用方法"><a href="#使用方法" class="header-anchor">#</a> 使用方法</h4> <p>和 css 规则一起使用时，这个指令可以隐藏未编译的 mustache 标签直到组件实例准备完毕；</p> <p>如下例中的 h1 标签不会显示，直到编译结束</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">&lt;style&gt;
  [v-cloak]</span> <span class="token punctuation">{</span>
    <span class="token property">dispaly</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre></div><p>在 Vue 实例准备好并替换掉 message 之前，<code>&lt;h1&gt;</code>元素上会有 v-cloak 属性。</p> <p>当 Vue 实例完成初始渲染后，v-cloak 属性会被自动移除，v-cloak 对应的 CSS 规则会失效，<code>&lt;h1&gt;</code> 元素随即会显示出来。这样就避免了用户看到未经 Vue 处理的 message 文本。</p> <h3 id="v-on"><a href="#v-on" class="header-anchor">#</a> v-on</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doThis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 动态事件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@[event]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doThis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 阻止冒泡 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click.stop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doThis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 阻止默认事件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doThis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 不带表达式地阻止默认事件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">@submit.prevent</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 链式调用 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click.stop.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doThis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 按键用于 keyAlias 修饰符--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@keyup.enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onEnter<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 点击事件将最多触发一次 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click.once</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doThis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 对象语法 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ mousedown: doThis, mouseup: doThat }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="v-bind"><a href="#v-bind" class="header-anchor">#</a> v-bind</h3> <h4 id="修饰符"><a href="#修饰符" class="header-anchor">#</a> 修饰符</h4> <ul><li><code>.camel</code> - 将短横线命名的 <code>attribute</code> 转变为驼峰式命名。</li> <li><code>.prop</code> - 强制绑定为 <code>DOM property</code>。【⭐️3.2+】</li> <li><code>.attr</code> - 强制绑定为 <code>DOM attribute</code>。【⭐️3.2+】</li></ul> <p>在处理绑定时，Vue 默认会利用 in 操作符来检查该元素上是否定义了和绑定的 key 同名的 <code>DOM property</code>。如果存在同名的 property，则 Vue 会将它作为 DOM property 赋值，而不是作为 attribute 设置。这个行为在大多数情况都符合期望的绑定值类型，但是你也可以显式用 .prop 和 .attr 修饰符来强制绑定方式。</p> <p>由于 DOM attribute 的值只能为<strong>字符串</strong>，使用 <code>setAttribute</code> 和 <code>getAttribute</code> 来设置和获取属性。</p> <p>对属性 Property 可以赋任何类型的值,因此我们只能使用 DOM 对象的属性（property）来传递复杂数据。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-element</span> <span class="token attr-name">:user.prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ name: 'jack' }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-element</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 等价缩写 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-element</span> <span class="token attr-name">.user</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ name: 'jack' }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-element</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="计算属性绑定"><a href="#计算属性绑定" class="header-anchor">#</a> 计算属性绑定</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 计算属性 绑定 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classObject<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> classObject <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">active</span><span class="token operator">:</span> isActive<span class="token punctuation">.</span>value <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>error<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
  <span class="token string-property property">'text-danger'</span><span class="token operator">:</span> error<span class="token punctuation">.</span>value <span class="token operator">&amp;&amp;</span> error<span class="token punctuation">.</span>value<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'fatal'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imageSrc<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--【⭐️3.4+】 缩写形式的动态 attribute 名，扩展为 :src=&quot;src&quot; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 动态 attribute 名的缩写 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:[key]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 动态class --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ red: isRed }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[classA, classB]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[classA, { classB: isB, classC: isC }]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 动态style --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ fontSize: size + 'px' }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[styleObjectA, styleObjectB]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 绑定对象形式的 attribute --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ id: someProp, 'other-attr': otherProp }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- prop 绑定。“prop” 必须在子组件中已声明。 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token attr-name">:prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>someThing<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 【💡组件传值】传递子父组件共有的 prop --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>props<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- XLink --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:xlink:special</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>foo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="v-if-v-else-v-else-if-v-show"><a href="#v-if-v-else-v-else-if-v-show" class="header-anchor">#</a> v-if &amp; v-else &amp; v-else-if &amp; v-show</h3> <ul><li>v-if 是惰性的，条件为 true 时才渲染条件块中内容，条件为 false 时判断的内容完全不会被渲染到 dom 中或被销毁掉</li> <li>template 渲染为不可见的元素</li> <li>v-show<strong>不支持</strong>template、不可以和 v-else、v-else-if 使用，原理是通过 css 样式：<code>display:none</code>来控制元素展示或隐藏</li> <li>如果原生需要在显示和隐藏之间频繁切换使用 v-show，不会频繁切换使用 v-if</li></ul> <h3 id="v-for"><a href="#v-for" class="header-anchor">#</a> v-for</h3> <h4 id="基础用法"><a href="#基础用法" class="header-anchor">#</a> 基础用法</h4> <p>in 和 of 的操作相同，所以也可以写 of</p> <ul><li>可用于遍历对象</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(value, key, index) in info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{value}}-{{key}}-{{index}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>可遍历字符串</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in 'test'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{index}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>可遍历数字</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(num, index) in 10<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{num}}-{{index}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="数组更新检测"><a href="#数组更新检测" class="header-anchor">#</a> 数组更新检测</h4> <p>不修改原数组的方法不会被检测到，以下数组方法更新数据可以被检测：</p> <p><code>splice</code>、<code>pop</code>、<code>push</code>、<code>shift</code>、<code>unshift</code>、<code>reverse</code>、<code>reverse</code></p> <h4 id="v-for-中的key属性"><a href="#v-for-中的key属性" class="header-anchor">#</a> v-for 中的<code>key</code>属性</h4> <ul><li>在使用 v-for 进行列表渲染时，需要给元素或组件绑定 key 属性</li> <li>key 属性主要用于 vue 的虚拟 dom 算法，在新旧 nodes 对比时辨识 vnodes；</li> <li>如果不使用 key，vue 会使用一种最大限度减少动态元素并且尽可能的尝试就地修改/复用相同类型元素的算法；而使用 key 时，它会基于 key 的变化重新排列元素顺序，并且会移除/销毁 key 不存在的元素</li></ul> <h3 id="template"><a href="#template" class="header-anchor">#</a> template</h3> <p><code>template</code>元素可以当作不可见的包裹元素，并在<code>v-if</code>上使用，但最终<code>template</code>不会被渲染出来；类似于小程序中的<code>block</code>。</p> <h4 id="template-编译"><a href="#template-编译" class="header-anchor">#</a> template 编译</h4> <p>template 模板中的元素会经历：--&gt; <code>createVNode()</code> --&gt;<code>VNode</code>--&gt;<code>虚拟dom</code>--&gt;<code>真实dom</code></p> <p><strong>默认 vue 版本</strong>：webpack 加载 vue 文件时使用的是<code>vue-loader</code>,runtime、<code>vue-loader</code>会帮助文件完成上述的转换过程</p> <p><strong>不是 vue 文件的 template 编译</strong>：rutime、compile 对 template 进行编译</p> <p><code>vue.esm-bundler.js</code>包含运行时编译器，如果想要运行时的模板编译，需要配置构建工具：将 vue 设置为这个文件</p> <p><img src="/images/vue/bundler.png" alt=""></p> <h3 id="computed"><a href="#computed" class="header-anchor">#</a> <code>computed</code></h3> <p>计算属性将被混入到组件实例中</p> <ul><li><p>所有的<code>getter</code>和<code>setter</code>中的<code>this</code>绑定的是当前所在的组件实例</p></li> <li><p>计算属性会基于响应式数据的依赖关系进行缓存，数据不发生变化时，计算属性不需要重新计算；依赖的数据发生变化时，计算属性会重新进行计算。</p></li> <li><p><strong>原理</strong>-- 对<code>computed</code>对象进行遍历，判断 key 对应的值是对象还是函数。如果是函数，返回该函数；如果是对象，取对象中的<code>get</code>和<code>set</code>函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// options api</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">111</span><span class="token template-punctuation string">`</span></span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>计算属性完整写法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">fullName</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token function-variable function">get</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">111</span><span class="token template-punctuation string">`</span></span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token function-variable function">set</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">const</span> names <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">setFullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token string">'111 222 333'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h3 id="watch"><a href="#watch" class="header-anchor">#</a> <code>watch</code></h3> <p>如果侦听对象类型，拿到的 oldValue 和 newValue 是被 proxy 包裹后的代理对象，</p> <p>如果想要拿到原始对象有两种方法：①<code>{...oldValue}</code> ②<code>toRaw(newValue)</code></p> <p>侦听器配置选项：</p> <p>深度监听：<code>deep:true</code> (watch 的默认监听不是深度监听)</p> <p>立即监听：<code>immediate:true</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// options api</span>
 <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">true</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token comment">// 也可以在created的生命周期中用this.$watch来侦听</span>
<span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">&quot;info&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="v-model"><a href="#v-model" class="header-anchor">#</a> v-model</h3> <h4 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h4> <blockquote><p>两个操作：</p> <p>①v-bind 绑定 value 属性的值；</p> <p>②v-on 绑定 input 事件监听到函数中，函数会获取最新的值赋值到绑定的属性中</p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 手动实现 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inputChange<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h4 id="修饰符-2"><a href="#修饰符-2" class="header-anchor">#</a> 修饰符</h4> <p><code>lazy</code></p> <p>默认情况下，v-model 在进行双向绑定时，绑定为 input 事件，那么会在每次内容输入后就将最新值和绑定的属性进行同步</p> <p>添加<code>lazy</code>修饰符后，input 事件会切换为 change 事件，只有在提交时才会触发</p> <p><code>number</code></p> <p>值从 string 类型转为 number 类型</p> <p><code>trim</code></p> <p>去掉值前后的空格</p> <p>多个修饰符同时使用时<strong>链式调用</strong></p> <h3 id="组件的-v-model"><a href="#组件的-v-model" class="header-anchor">#</a> 组件的 v-model</h3> <h4 id="组件上使用-v-model-实质"><a href="#组件上使用-v-model-实质" class="header-anchor">#</a> 组件上使用 v-model 实质</h4> <p><img src="/images/vue/model%E7%BB%84%E4%BB%B6.png" alt=""></p> <h4 id="组件-v-model-的实现"><a href="#组件-v-model-的实现" class="header-anchor">#</a> 组件 v-model 的实现</h4> <p><img src="/images/vue/model%E5%AE%9E%E7%8E%B0.png" alt=""></p> <p>组件可以绑定多个 v-model</p> <p><code>&lt;SonPage v-model:name=&quot;sonComponent&quot; v-model:age=&quot;ageProps&quot;&gt;&lt;/SonPage&gt;</code></p> <p><img src="/images/vue/%E5%A4%9A%E4%B8%AAmodel.png" alt=""></p> <h2 id="组件"><a href="#组件" class="header-anchor">#</a> 组件</h2> <p><img src="/images/vue/%E7%BB%84%E4%BB%B6%E5%8C%96.png" alt=""></p> <h4 id="组件名称"><a href="#组件名称" class="header-anchor">#</a> 组件名称</h4> <p><img src="/images/vue/%E7%BB%84%E4%BB%B6%E5%90%8D%E7%A7%B0.png" alt=""></p> <h4 id="全局组件注册"><a href="#全局组件注册" class="header-anchor">#</a> 全局组件注册</h4> <p><img src="/images/vue/%E5%85%A8%E5%B1%80%E7%BB%84%E4%BB%B6.png" alt=""></p> <h4 id="局部组件注册"><a href="#局部组件注册" class="header-anchor">#</a> 局部组件注册</h4> <p><img src="/images/vue/%E5%B1%80%E9%83%A8%E7%BB%84%E4%BB%B6.png" alt=""></p> <h2 id="配置路径别名-vue-config-js"><a href="#配置路径别名-vue-config-js" class="header-anchor">#</a> 配置路径别名(vue.config.js)</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@vue/cli-service'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">transpileDependencies</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 配置路径别名</span>
    <span class="token comment">// @是已经配置好的路径别名：对应的是src路径</span>
    <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'@'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">utils</span><span class="token operator">:</span> <span class="token string">'@/utils'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="配置路径-js-config-json"><a href="#配置路径-js-config-json" class="header-anchor">#</a> 配置路径(js.config.json )</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 在代码中采用最新版本的模块化</span>
    <span class="token string-property property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 按node规则查找规则查找文件</span>
    <span class="token string-property property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定base_url</span>
    <span class="token string-property property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;dom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">// 项目开发中可能用到的库，vscode提示更友好</span>
    <span class="token string-property property">&quot;removeComments&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token comment">// 配置路径</span>
      <span class="token string-property property">&quot;/@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/*&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;/#/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;types/*&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="scoped-原理"><a href="#scoped-原理" class="header-anchor">#</a> scoped 原理</h2> <p>单文件 vue style 有自己的作用域：添加 scoped 后，会给每个元素添加属性，该文件内的样式时会被加上属性选择器，来限定样式的作用范围。</p> <h2 id="组件通信"><a href="#组件通信" class="header-anchor">#</a> 组件通信</h2> <h3 id="props"><a href="#props" class="header-anchor">#</a> <code>props</code></h3> <p>数组语法：</p> <p><code>props:['name','age','title']</code></p> <p>对象语法：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token punctuation">{</span>
   <span class="token literal-property property">type</span><span class="token operator">:</span>String<span class="token punctuation">,</span>
   <span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'默认name'</span><span class="token punctuation">,</span>
   <span class="token literal-property property">required</span><span class="token operator">:</span><span class="token boolean">true</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">friend</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span>Object<span class="token punctuation">,</span>
    <span class="token comment">// 对象或数组默认值必须从一个工厂函数获取</span>
    <span class="token function-variable function">default</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'jame'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">friendArr</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span>Array<span class="token punctuation">,</span>
    <span class="token function-variable function">default</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">[</span><span class="token string">'篮球'</span><span class="token punctuation">,</span><span class="token string">'rap'</span><span class="token punctuation">,</span><span class="token string">'唱跳'</span><span class="token punctuation">]</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token comment">// 自定义验证</span>
   <span class="token literal-property property">propF</span><span class="token operator">:</span><span class="token punctuation">{</span>
     <span class="token function">validator</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 值必须匹配下列字符串中的一个</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'success'</span><span class="token punctuation">,</span><span class="token string">'warning'</span><span class="token punctuation">,</span><span class="token string">'danger'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token literal-property property">friendFn</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span>Function<span class="token punctuation">,</span>
      <span class="token comment">// 对象或数组默认值必须从一个工厂函数获取</span>
      <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 与对象或数组默认值不同，这不是一个工厂函数（是一个用作默认值的函数）</span>
        <span class="token keyword">return</span> <span class="token string">'Default Func'</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>非 prop 的 attribute</strong></p> <p><img src="/images/vue/attr.png" alt=""></p> <p><strong>禁用 Attribute 继承和多根节点:<code>inheritAttrs:false</code></strong></p> <p><img src="/images/vue/%E7%A6%81%E7%94%A8attr.png" alt=""></p> <p><strong>手动指定：</strong></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>others<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="emits"><a href="#emits" class="header-anchor">#</a> <code>emits</code></h3> <p>emits 数组写法：<code>emits:['numChange']</code></p> <p>emit 对象写法：对参数进行验证</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">emits</span><span class="token operator">:</span><span class="token punctuation">{</span>
 <span class="token literal-property property">addOne</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span>
 <span class="token function-variable function">addTen</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">payload</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span>payload<span class="token operator">===</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>
   <span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token comment">// 验证返回为false会报警告</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="非父子组件通信"><a href="#非父子组件通信" class="header-anchor">#</a> 非父子组件通信</h2> <h3 id="provide-和-inject"><a href="#provide-和-inject" class="header-anchor">#</a> provide 和 inject</h3> <p><img src="/images/vue/provide.png" alt=""></p> <p>App.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AboutView</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AboutView</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> provide <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> AboutView <span class="token keyword">from</span> <span class="token string">'./views/AboutView.vue'</span><span class="token punctuation">;</span>
<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'依赖注入'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>SonPage.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>This is an son page:{{ name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token comment">// 可以设置默认值</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'defaultName'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="options-api-中-inject"><a href="#options-api-中-inject" class="header-anchor">#</a> options api 中 inject</h4> <p>inject 注入的值，用到 computed 返回的是 ref 对象，在 template 中使用不会自动解包，需要加上.value。</p> <p><img src="/images/vue/inject.png" alt=""></p> <h3 id="事件总线"><a href="#事件总线" class="header-anchor">#</a> 事件总线</h3> <p>...</p> <h3 id="ref"><a href="#ref" class="header-anchor">#</a> ref</h3> <h4 id="获取组件实例的根元素-获取组件实例的其他根元素-多个根元素情况"><a href="#获取组件实例的根元素-获取组件实例的其他根元素-多个根元素情况" class="header-anchor">#</a> 获取组件实例的根元素/获取组件实例的其他根元素（多个根元素情况）</h4> <p><img src="/images/vue/ref.png" alt=""></p> <p><img src="/images/vue/ref2.png" alt=""></p> <h3 id="parent和-root"><a href="#parent和-root" class="header-anchor">#</a> $parent和$root</h3> <p><img src="/images/vue/parent.png" alt=""></p> <h2 id="插槽-slot"><a href="#插槽-slot" class="header-anchor">#</a> 插槽 slot</h2> <p><img src="/images/vue/%E6%8F%92%E6%A7%BD.png" alt=""> <img src="/images/vue/%E6%8F%92%E6%A7%BD2.png" alt=""></p> <h3 id="基本使用-插槽默认内容"><a href="#基本使用-插槽默认内容" class="header-anchor">#</a> 基本使用 &amp; 插槽默认内容</h3> <h4 id="插槽默认内容"><a href="#插槽默认内容" class="header-anchor">#</a> 插槽默认内容</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ isUpdate }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 插槽的默认内容 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>没有传入slot时显示<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>使用组件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MenuDrawer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>插槽的按钮元素<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MenuDrawer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="具名插槽"><a href="#具名插槽" class="header-anchor">#</a> 具名插槽</h3> <p><code>&lt;slot&gt;</code>元素有一个特殊的 <code>attribute:name</code>；</p> <p>一个不带 name 的 slot，会带有隐含的名字：default</p> <p>组件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>使用具名插槽</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MenuDrawer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#left</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>左边插槽<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#center</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>中间插槽<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>right</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>右边插槽<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MenuDrawer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="动态插槽名"><a href="#动态插槽名" class="header-anchor">#</a> 动态插槽名</h3> <p><img src="/images/vue/%E5%8A%A8%E6%80%81%E6%8F%92%E6%A7%BD.png" alt=""></p> <h3 id="渲染作用域"><a href="#渲染作用域" class="header-anchor">#</a> 渲染作用域</h3> <p><img src="/images/vue/%E6%B8%B2%E6%9F%93%E4%BD%9C%E7%94%A8%E5%9F%9F.png" alt=""></p> <h3 id="作用域插槽-子组件将值传递给父组件"><a href="#作用域插槽-子组件将值传递给父组件" class="header-anchor">#</a> 作用域插槽：子组件将值传递给父组件</h3> <p>父组件使用作用域插槽：</p> <p><img src="/images/vue/%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD.png" alt=""></p> <p>子组件插槽：</p> <p><img src="/images/vue/%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD2.png" alt=""></p> <p><img src="/images/vue/%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD3.png" alt=""></p> <h4 id="独占默认插槽缩写"><a href="#独占默认插槽缩写" class="header-anchor">#</a> 独占默认插槽缩写</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MenuDrawer</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 独占默认插槽简写（v-slot:default='props'） --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>props<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>{{ props.isUpdate }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MenuDrawer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果只有一个插槽，可以不用写<code>template</code>，直接写在<code>&lt;MenuDrawer v-slot=&quot;props&quot;&gt;&lt;/MenuDrawer&gt;</code></p> <p>如果有多个插槽，不能使用该写法。</p> <h2 id="动态组件"><a href="#动态组件" class="header-anchor">#</a> 动态组件</h2> <p>引入组件</p> <p>template 中使用：<code>&lt;component name=&quot;nameProps&quot; :is=&quot;currentTab[index]&quot;&gt;&lt;/component&gt;</code></p> <p><img src="/images/vue/%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6.png" alt=""></p> <h2 id="keep-alive"><a href="#keep-alive" class="header-anchor">#</a> keep-alive</h2> <h3 id="属性使用"><a href="#属性使用" class="header-anchor">#</a> 属性使用</h3> <p>使用 include 属性时，<strong>组件必须要定义 name 选项</strong>：</p> <p><img src="/images/vue/include.png" alt=""></p> <p><img src="/images/vue/%E5%85%B6%E5%AE%83%E5%B1%9E%E6%80%A7.png" alt=""></p> <h3 id="keep-alive-生命周期"><a href="#keep-alive-生命周期" class="header-anchor">#</a> keep-alive 生命周期</h3> <p><code>activated</code>和<code>deactivated</code></p> <h2 id="webpack-代码分包-异步组件"><a href="#webpack-代码分包-异步组件" class="header-anchor">#</a> webpack 代码分包/异步组件</h2> <p>import 函数可以让 webpack 打包文件时进行分包处理</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 示例</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./utils/math'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 异步组件--在打包时会进行分包处理</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> AsyncCategory <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./views/category.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/images/vue/%E9%BB%98%E8%AE%A4%E6%89%93%E5%8C%85.png" alt=""></p> <p><img src="/images/vue/%E5%B7%A5%E5%8E%82%E5%87%BD%E6%95%B0.png" alt=""></p> <p><img src="/images/vue/%E5%B7%A5%E5%8E%82%E5%87%BD%E6%95%B02.png" alt=""></p> <h2 id="mixin"><a href="#mixin" class="header-anchor">#</a> mixin</h2> <h3 id="基础使用"><a href="#基础使用" class="header-anchor">#</a> 基础使用</h3> <p><img src="/images/vue/mixin.png" alt=""></p> <h3 id="合并规则"><a href="#合并规则" class="header-anchor">#</a> 合并规则</h3> <p><img src="/images/vue/%E5%90%88%E5%B9%B6%E8%A7%84%E5%88%99.png" alt=""></p> <h3 id="全局混入"><a href="#全局混入" class="header-anchor">#</a> 全局混入</h3> <p>main.js 文件</p> <p><img src="/images/vue/%E5%85%A8%E5%B1%80%E6%B7%B7%E5%85%A5.png" alt=""></p> <h2 id="从-options-api-到-composition-api"><a href="#从-options-api-到-composition-api" class="header-anchor">#</a> 从 options api 到 composition api</h2> <h3 id="options-api-弊端"><a href="#options-api-弊端" class="header-anchor">#</a> options api 弊端</h3> <p><img src="/images/vue/options.png" alt=""></p> <h3 id="setup-函数"><a href="#setup-函数" class="header-anchor">#</a> setup 函数</h3> <p><img src="/images/vue/setup.png" alt=""></p> <p>composition api 使用 hook 优势：可复用性高，代码更为灵活</p> <p><strong>示例</strong></p> <p>hook/useCounter.js</p> <p><img src="/images/vue/counter.png" alt=""></p> <p><img src="/images/vue/counter2.png" alt=""></p> <h2 id="composition-api"><a href="#composition-api" class="header-anchor">#</a> composition api</h2> <h3 id="reactive"><a href="#reactive" class="header-anchor">#</a> reactive</h3> <p>用于定义对象或数组类型</p> <p>应用场景：常应用于本地数据 /多个数据之前存在关联（聚合的数据），组织在一起有特定作用</p> <p><img src="/images/vue/reactive.png" alt=""></p> <h3 id="ref-2"><a href="#ref-2" class="header-anchor">#</a> ref</h3> <p><img src="/images/vue/ref%E7%90%86%E8%A7%A3.png" alt=""></p> <p>template 中的 ref 对象会被自动解包</p> <p>模板中的解包是浅层解包（存在矛盾:使用时不需要写<code>.value</code>，函数修改时需要写<code>.value</code>）</p> <p><img src="/images/vue/ref%E7%90%86%E8%A7%A32.png" alt=""></p> <h4 id="注意"><a href="#注意" class="header-anchor">#</a> 注意：</h4> <p>子组件拿到父组件传递的数据后只能使用，不能修改，如果确实需要修改数据，应该将事件传递出去，由父组件修改数据（<strong>单向数据流规范</strong>）</p> <p>在 react 中，任何一个组件都应该像纯函数一样，不能修改传入的 props</p> <h3 id="readonly"><a href="#readonly" class="header-anchor">#</a> readonly</h3> <p><img src="/images/vue/readonly.png" alt=""></p> <p><img src="/images/vue/readonly2.png" alt=""></p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HomeView</span> <span class="token attr-name">:homeProps</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>readAccount<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HomeView</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> readonly <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HomeView <span class="token keyword">from</span> <span class="token string">'./views/HomeView.vue'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> account <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'loginName'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'123456'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 只读 子组件接收props时，是readonly；如果需要修改数据，则由父组件修改变量account</span>
<span class="token keyword">const</span> readAccount <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="isproxy、isreactive、isreadonly、toraw、shallowreactive、shallowreadonly"><a href="#isproxy、isreactive、isreadonly、toraw、shallowreactive、shallowreadonly" class="header-anchor">#</a> isProxy、isReactive、isReadonly、toRaw、shallowReactive、shallowReadonly</h3> <p><img src="/images/vue/proxy.png" alt=""></p> <h3 id="torefs"><a href="#torefs" class="header-anchor">#</a> toRefs</h3> <p><img src="/images/vue/torefs.png" alt=""></p> <h3 id="toref"><a href="#toref" class="header-anchor">#</a> toRef</h3> <p>只解构一个值使用 toRef</p> <p><img src="/images/vue/toref.png" alt=""></p> <h3 id="unref、isref、shallowref、triggerref"><a href="#unref、isref、shallowref、triggerref" class="header-anchor">#</a> unRef、isRef、shallowRef、triggerRef</h3> <p><img src="/images/vue/unref.png" alt=""></p> <h3 id="在-setup-函数中不能使用-this"><a href="#在-setup-函数中不能使用-this" class="header-anchor">#</a> 在 setup 函数中不能使用 this</h3> <p><img src="/images/vue/this.png" alt=""></p> <p><img src="/images/vue/this2.png" alt=""></p> <h3 id="computed-2"><a href="#computed-2" class="header-anchor">#</a> computed</h3> <p>computed 返回的是 computedRef 对象</p> <p><img src="/images/vue/computedref.png" alt=""></p> <h3 id="ref-获取元素或组件"><a href="#ref-获取元素或组件" class="header-anchor">#</a> ref 获取元素或组件</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nameRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HomeView <span class="token keyword">from</span> <span class="token string">'./views/HomeView.vue'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nameRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//  获取实例</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">output-&gt;nameRef.value</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> nameRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="composition-api-vs-react-hook"><a href="#composition-api-vs-react-hook" class="header-anchor">#</a> Composition Api vs React hook</h3> <p>从 React Hook 的实现角度看，React Hook 是根据 useState 调用的顺序来确定下一次重渲染时的 state 是来源于哪个 useState，所以出现了以下限制：</p> <ul><li>不能在循环、条件、嵌套函数中调用 Hook</li> <li>必须确保总是在你的 React 函数的顶层调用 Hook</li> <li>useEffect、useMemo 等函数必须手动确定依赖关系</li></ul> <p>Composition API 是基于 Vue 的响应式系统实现的，与 React Hook 的相比，方法、变量声明在 setup 函数内，一次组件实例化只调用一次 setup，而 React Hook 每次重新渲染都需要调用 Hook。</p> <ul><li>Composition API 的调用不需要顾虑调用顺序，也可以在循环、条件、嵌套函数中使用</li> <li>响应式系统自动实现了依赖收集，进而组件的部分的性能优化由 Vue 内部自己完成，而 React Hook 需要手动传入依赖，而且必须必须保证依赖的顺序，让 useEffect、useMemo 等函数正确的捕获依赖变量，否则会由于依赖不正确使得组件性能下降。</li></ul> <h3 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h3> <p><img src="/images/vue/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png" alt=""></p> <h3 id="watch-2"><a href="#watch-2" class="header-anchor">#</a> watch</h3> <p>返回值从 proxy 对象变为普通对象的写法：</p> <p><img src="/images/vue/watch.png" alt=""></p> <p>侦听多个数据源</p> <p><img src="/images/vue/watch2.png" alt=""></p> <p>watch 选项</p> <p><img src="/images/vue/watch3.png" alt=""></p> <h3 id="watcheffect"><a href="#watcheffect" class="header-anchor">#</a> watchEffect</h3> <p>在执行过程中，会自动收集函数中的所有依赖</p> <p><img src="/images/vue/%E4%BE%9D%E8%B5%96.png" alt=""></p> <p>停止侦听</p> <p><img src="/images/vue/%E5%81%9C%E6%AD%A2.png" alt=""></p> <p>hook/useTitle.js</p> <p><img src="/images/vue/usetitle.png" alt=""></p> <p>index.vue 使用 useTitle</p> <p><img src="/images/vue/%E4%BD%BF%E7%94%A8usetitle.png" alt=""></p> <h3 id="definprops-和-defineemits"><a href="#definprops-和-defineemits" class="header-anchor">#</a> definProps 和 defineEmits</h3> <p><img src="/images/vue/defineprops.png" alt=""></p> <h3 id="defineexpose"><a href="#defineexpose" class="header-anchor">#</a> defineExpose</h3> <p><img src="/images/vue/defineexpose.png" alt=""></p> <h2 id="vue-router"><a href="#vue-router" class="header-anchor">#</a> vue-router</h2> <h3 id="路由发展"><a href="#路由发展" class="header-anchor">#</a> 路由发展</h3> <p>① 后端路由阶段：将 url 传递给服务器，服务器根据地址将完整网页 html 渲染出来，再返回给浏览器进行展示。url 和网页形成了对应关系。</p> <p><img src="/images/vue/%E5%90%8E%E7%AB%AF%E8%B7%AF%E7%94%B1.png" alt=""></p> <p>② 前后端分离阶段：将 url 传递给服务器，服务器根据地址将仅返回页面的基本结构，页面数据由前端发送 ajax 请求来获取数据并渲染到页面上。</p> <p><img src="/images/vue/%E5%89%8D%E5%90%8E%E5%88%86%E7%A6%BB.png" alt=""></p> <p>③ 前端路由（SPA：single page application）阶段：路由与页面映射关系由前端来维护，不同路由显示不同页面。</p> <p><img src="/images/vue/%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1.png" alt=""></p> <p>url 的 hash</p> <p><img src="/images/vue/hash.png" alt=""></p> <p>url 的 history</p> <p><img src="/images/vue/history.png" alt=""></p> <h3 id="vue-router-简介"><a href="#vue-router-简介" class="header-anchor">#</a> vue-router 简介</h3> <p><img src="/images/vue/%E8%B7%AF%E7%94%B1%E7%AE%80%E4%BB%8B.png" alt=""></p> <h3 id="router-使用步骤"><a href="#router-使用步骤" class="header-anchor">#</a> router 使用步骤</h3> <p><img src="/images/vue/%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4.png" alt=""></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HomeView <span class="token keyword">from</span> <span class="token string">'../views/HomeView.vue'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// history模式：createWebHistory()</span>
  <span class="token comment">// hash模式：createWebHashHistory()</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">component</span><span class="token operator">:</span> HomeView
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/AboutView.vue'</span><span class="token punctuation">)</span> <span class="token comment">// 使用import函数可以分包</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span>
</code></pre></div><p><strong>路由懒加载</strong>：使用魔法注释，可以支持对分包进行命名</p> <p><img src="/images/vue/%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD.png" alt=""></p> <h3 id="router-link"><a href="#router-link" class="header-anchor">#</a> router-link</h3> <p>replace 属性设置后不会记录历史路径；</p> <p>active-class 可设置选中的 class 类名</p> <p><img src="/images/vue/link.png" alt=""></p> <h3 id="动态路由"><a href="#动态路由" class="header-anchor">#</a> 动态路由</h3> <p><img src="/images/vue/%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1.png" alt=""></p> <p>在模板中获取 id</p> <p><code></code></p> <p>在 setup 中获取路由参数</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">output-&gt;route.params.id</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>配置 404 页面-匹配规则加*</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token punctuation">{</span>
       <span class="token comment">// 加了*号，会将路径解析成数组</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/:pathMatch(.*)*'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/NotFound.vue'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><p><img src="/images/vue/%E8%A7%A3%E6%9E%90.png" alt=""></p> <h3 id="路由跳转"><a href="#路由跳转" class="header-anchor">#</a> 路由跳转</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>  useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'111'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过$route.query获取参数</span>
  router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回</span>
  router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 向前路径</span>
  router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="动态添加路由"><a href="#动态添加路由" class="header-anchor">#</a> 动态添加路由</h3> <p><img src="/images/vue/%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E8%B7%AF%E7%94%B1.png" alt=""></p> <h3 id="删除路由"><a href="#删除路由" class="header-anchor">#</a> 删除路由</h3> <p><img src="/images/vue/%E5%88%A0%E9%99%A4%E8%B7%AF%E7%94%B1.png" alt=""></p> <h3 id="路由守卫"><a href="#路由守卫" class="header-anchor">#</a> 路由守卫</h3> <p><img src="/images/vue/%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB.png" alt=""></p> <p>守卫示例：</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> token <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token <span class="token operator">&amp;&amp;</span> to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">'/order'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'/login'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导航解析流程：<img src="/images/vue/%E5%AF%BC%E8%88%AA.png" alt=""></p> <h3 id="状态管理-vuex"><a href="#状态管理-vuex" class="header-anchor">#</a> 状态管理（vuex）</h3> <p><img src="/images/vue/%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86.png" alt=""></p> <h3 id="单一状态树"><a href="#单一状态树" class="header-anchor">#</a> 单一状态树</h3> <p><img src="/images/vue/%E7%8A%B6%E6%80%81%E6%A0%91.png" alt=""></p> <h3 id="state"><a href="#state" class="header-anchor">#</a> state</h3> <h4 id="mapstate-映射"><a href="#mapstate-映射" class="header-anchor">#</a> mapState 映射</h4> <p><img src="/images/vue/%E7%8A%B6%E6%80%81%E6%A0%91.png" alt=""></p> <h4 id="在-setup-使用-mapstate-映射函数"><a href="#在-setup-使用-mapstate-映射函数" class="header-anchor">#</a> 在 setup 使用 mapState 映射函数</h4> <p>方式一：</p> <p><img src="/images/vue/mapstate.png" alt=""></p> <p>此处的 name 和 leve 解构出来的都是函数，相当于：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>name
<span class="token punctuation">}</span>
</code></pre></div><p>方式二：封装 useState 来解决这个问题</p> <p><img src="/images/vue/usestate.png" alt=""></p> <p>方式三：对 store.state 解构</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> level <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getters"><a href="#getters" class="header-anchor">#</a> getters</h3> <h4 id="getters-返回函数"><a href="#getters-返回函数" class="header-anchor">#</a> getters 返回函数</h4> <p><img src="/images/vue/getters.png" alt=""></p> <h4 id="getters-参数"><a href="#getters-参数" class="header-anchor">#</a> getters 参数</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">{</span>
 <span class="token function">message</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>getters<span class="token punctuation">,</span>rootState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rootState<span class="token punctuation">)</span> <span class="token comment">// 根元素</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> level:@{getters.level}</span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="mapgetters-映射"><a href="#mapgetters-映射" class="header-anchor">#</a> mapGetters 映射</h4> <p><img src="/images/vue/mapgetter.png" alt=""></p> <h3 id="mutation"><a href="#mutation" class="header-anchor">#</a> mutation</h3> <p><img src="/images/vue/mutation.png" alt=""></p> <p>普通提交方式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
 <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;changeName&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">newName</span><span class="token operator">:</span><span class="token string">'111'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="mutation-常量类型-设计规范-vue-官方推荐"><a href="#mutation-常量类型-设计规范-vue-官方推荐" class="header-anchor">#</a> mutation 常量类型（设计规范-vue 官方推荐）</h4> <p><img src="/images/vue/%E5%B8%B8%E9%87%8F.png" alt=""></p> <h4 id="mapmutations-映射"><a href="#mapmutations-映射" class="header-anchor">#</a> mapMutations 映射</h4> <p><img src="/images/vue/mapmutations.png" alt=""></p> <h4 id="setup-使用-mapstate-映射函数"><a href="#setup-使用-mapstate-映射函数" class="header-anchor">#</a> setup 使用 mapState 映射函数</h4> <p><img src="/images/vue/set-mapstate.png" alt=""></p> <h4 id="mutation-原则"><a href="#mutation-原则" class="header-anchor">#</a> mutation 原则</h4> <p><img src="/images/vue/%E5%8E%9F%E5%88%99.png" alt=""></p> <h3 id="actions"><a href="#actions" class="header-anchor">#</a> actions</h3> <p><img src="/images/vue/action.png" alt=""></p> <p>派发 action：<code>store.dispatch(&quot;incrementAction&quot;,&quot;参数&quot;)</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">changeNameAction</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span> <span class="token comment">// 传参</span>
    context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;changeName&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;mutations参数&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 调用mutations方法修改数据</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="使用-mapactions-辅助函数"><a href="#使用-mapactions-辅助函数" class="header-anchor">#</a> 使用 mapActions 辅助函数</h4> <p><img src="/images/vue/mapAction.png" alt=""></p> <h4 id="在-setup-中使用-actions"><a href="#在-setup-中使用-actions" class="header-anchor">#</a> 在 setup 中使用 actions</h4> <p><img src="/images/vue/set-action.png" alt=""></p> <h4 id="actions-使用的默认做法"><a href="#actions-使用的默认做法" class="header-anchor">#</a> actions 使用的默认做法:</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 自己定义函数手动调用actions的方法</span>
<span class="token keyword">function</span> <span class="token function">incrementAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'incrementAction'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="手动-new-promise-处理操作"><a href="#手动-new-promise-处理操作" class="header-anchor">#</a> 手动 new Promise 处理操作</h4> <p><img src="/images/vue/%E6%89%8B%E5%8A%A8.png" alt=""></p> <h4 id="modules-的使用"><a href="#modules-的使用" class="header-anchor">#</a> modules 的使用</h4> <p><img src="/images/vue/modules.png" alt=""></p> <p>在 template 中使用模块中的数据需要采用<code>state.moduleA.name</code>的方式，但调用 mutation 和 actions 的方法时不需要根模块</p> <p><img src="/images/vue/1.png" alt=""></p> <p><img src="/images/vue/2.png" alt=""></p> <p>命名空间：<code>namespaced:true</code></p> <p>修改根模块的 state</p> <p><img src="/images/vue/3.png" alt=""></p> <h2 id="pinia"><a href="#pinia" class="header-anchor">#</a> pinia</h2> <h3 id="pinia-和-vuex-的对比"><a href="#pinia-和-vuex-的对比" class="header-anchor">#</a> pinia 和 vuex 的对比</h3> <p>pinia 兼容 options api</p> <p><img src="/images/vue/4.png" alt=""></p> <h3 id="pinia-基础使用"><a href="#pinia-基础使用" class="header-anchor">#</a> pinia 基础使用</h3> <p>main.ts</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>store/index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createPinia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> pinia<span class="token punctuation">;</span>
</code></pre></div><p>store/counter.js</p> <p><strong>store 是使用<code>defineStore()</code>定义的，需要一个唯一名称（name），作为第一个参数传递。这个 name 也称为 id，是必要的，pinia 使用 name 来连接 devtools</strong></p> <p><strong>返回的函数统一用 useX 命名</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useCounter <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'counter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">11</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useCounter<span class="token punctuation">;</span>
</code></pre></div><p>在页面文件中使用 pinia ，<strong>调用 use 函数来使用</strong></p> <p><strong>store 中的属性被解构后会失去响应式，需要使用<code>storeToRefs()</code>来保持响应式</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> storeToRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> counterStore <span class="token operator">=</span> <span class="token function">useCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>counterStore<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>home.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>home-count:{{ counterStore.count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>home-title:{{ counterStore.title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>home-doubleCount:{{ counterStore.doubleCount }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>home-doubleCountAddOne:{{ counterStore.doubleCountAddOne }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>home-getNumByCount:{{ counterStore.getNumByCount(1) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeCount<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>修改state<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>resetCount<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>重置state<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeCountStore<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>一次性修改多个值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setNewState<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>替换state<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> useCounter <span class="token keyword">from</span> <span class="token string">'@/stores/counter.js'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> counterStore <span class="token operator">=</span> <span class="token function">useCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">changeCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 直接修改值</span>
  counterStore<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">resetCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 调用内部属性需要加上$</span>
  counterStore<span class="token punctuation">.</span><span class="token function">$reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 一次性修改多个值</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeCountStore</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  counterStore<span class="token punctuation">.</span><span class="token function">$patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'再次修改'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">setNewState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  counterStore<span class="token punctuation">.</span>$state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'1'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="store"><a href="#store" class="header-anchor">#</a> store</h3> <p><img src="/images/vue/5.png" alt=""></p> <h3 id="state-2"><a href="#state-2" class="header-anchor">#</a> state</h3> <p><img src="/images/vue/6.png" alt=""></p> <p><img src="/images/vue/7.png" alt=""></p> <p>订阅（subscribe）</p> <p>订阅状态会被绑定到组件上，组件被卸载时，订阅会被自动移除，如果添加<code>detached:true</code>则订阅不会被自动移除</p> <p><code>counterStore.$subscribe(callback,{detached:true})</code></p> <h3 id="getters-2"><a href="#getters-2" class="header-anchor">#</a> getters</h3> <p>counter.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> useCounter <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'counter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'修改一次'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">AllCounts</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">765</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//   基本使用</span>
    <span class="token function">doubleCount</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 获取getters中的值可以用this.</span>
    <span class="token function">doubleCountAddOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>doubleCount <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 传入参数(返回函数)</span>
    <span class="token function">getNumByCount</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>AllCounts<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">'Find'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token string">'404'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 如果getters用到了别的store中的数据</span>
    <span class="token function">showMesage</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> useUser <span class="token operator">=</span> <span class="token function">useUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>useUser<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span>num<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useCounter<span class="token punctuation">;</span>
</code></pre></div><h3 id="actions-2"><a href="#actions-2" class="header-anchor">#</a> actions</h3> <p>异步操作</p> <p><img src="/images/vue/8.png" alt=""></p> <p>同样可以通过 new Promise 获取 actions 何时结束（同 vuex）</p> <p><img src="/images/vue/9.png" alt=""></p> <h2 id="axios"><a href="#axios" class="header-anchor">#</a> axios</h2> <h3 id="axios-请求方式"><a href="#axios-请求方式" class="header-anchor">#</a> axios 请求方式</h3> <p><img src="/images/vue/10.png" alt=""></p> <p>发送 request 请求</p> <p><img src="/images/vue/11.png" alt=""></p> <p>发送 get 请求</p> <p><img src="/images/vue/12.png" alt=""></p> <p>发送 post 请求</p> <p><img src="/images/vue/13.png" alt=""></p> <p>axios.all(本质就是 promise.all)</p> <p><img src="/images/vue/14.png" alt=""></p> <h3 id="常见配置项"><a href="#常见配置项" class="header-anchor">#</a> 常见配置项</h3> <p><img src="/images/vue/15.png" alt=""></p> <h3 id="对-axios-实例进行公共配置"><a href="#对-axios-实例进行公共配置" class="header-anchor">#</a> 对 axios 实例进行公共配置：</h3> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseUrl <span class="token operator">=</span> BaseUrl<span class="token punctuation">;</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="axios-创建实例"><a href="#axios-创建实例" class="header-anchor">#</a> axios 创建实例</h3> <p><img src="/images/vue/16.png" alt=""></p> <h4 id="请求和响应拦截器"><a href="#请求和响应拦截器" class="header-anchor">#</a> 请求和响应拦截器</h4> <p><img src="/images/vue/17.png" alt=""></p> <p>在请求成功拦截时开启 loading/header/认证登录/对参数进行转化，在响应成功拦截中关闭 loading/对返回值进行统一处理。</p> <h4 id="基础封装-axios"><a href="#基础封装-axios" class="header-anchor">#</a> 基础封装 axios</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">axiosRequest</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">baseUrl<span class="token punctuation">,</span> timeout <span class="token operator">=</span> <span class="token number">1000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      baseUrl<span class="token punctuation">,</span>
      timeout
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>instance
        <span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">get</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>config<span class="token punctuation">,</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">post</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>config<span class="token punctuation">,</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">axiosRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="vue3-新增的三个组件"><a href="#vue3-新增的三个组件" class="header-anchor">#</a> vue3 新增的三个组件</h2> <h3 id="fragment"><a href="#fragment" class="header-anchor">#</a> Fragment</h3> <p>在书写 vue2 时，由于组件必须只有一个根节点，很 多时候会添加一些没有意义的节点用于包裹。Fragment 组件就是用于解决这个问题的(这和 React 中的 Fragment 组件是一样的)。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="teleport"><a href="#teleport" class="header-anchor">#</a> Teleport</h3> <p>Portal 提供了一种将子节点渲染到存在于父组件以外的 DOM 节点的方法</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> Teleport <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Teleport</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="suspense"><a href="#suspense" class="header-anchor">#</a> Suspense</h3> <p>Suspense 让组件在渲染之前进行“等待”，并在等待时显示 fallback 的内容</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Suspense</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AsyncComponent</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#fallback</span><span class="token punctuation">&gt;</span></span> Loading... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Suspense</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f9c3f30c.js" defer></script><script src="/assets/js/2.b7af9bcd.js" defer></script><script src="/assets/js/1.6eac4c2f.js" defer></script><script src="/assets/js/40.8ce3c438.js" defer></script>
  </body>
</html>
