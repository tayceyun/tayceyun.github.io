"use strict";(globalThis.webpackChunktayceyun_library=globalThis.webpackChunktayceyun_library||[]).push([[8328],{2622:(n,e,s)=>{s.d(e,{A:()=>l});const l=s.p+"assets/images/\u53cc\u7ebf\u7a0b-e23af641d311b91ae829a3e48e600df0.png"},12245:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"framework/native-wx","title":"native-wx","description":"native wx","source":"@site/docs/framework/native-wx.md","sourceDirName":"framework","slug":"/framework/native-wx","permalink":"/blog/framework/native-wx","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"\u5c0f\u7a0b\u5e8f","permalink":"/blog/tags/\u5c0f\u7a0b\u5e8f"},{"inline":true,"label":"\u539f\u751f","permalink":"/blog/tags/\u539f\u751f"}],"version":"current","frontMatter":{"sidebar":"auto","tags":["\u5c0f\u7a0b\u5e8f","\u539f\u751f"]},"sidebar":"mainSidebar","previous":{"title":"react","permalink":"/blog/framework/react"},"next":{"title":"electron","permalink":"/blog/framework/electron"}}');var i=s(74848),r=s(28453);const c={sidebar:"auto",tags:["\u5c0f\u7a0b\u5e8f","\u539f\u751f"]},a=void 0,d={},o=[{value:"native wx",id:"native-wx",level:2},{value:"\u57fa\u7840",id:"\u57fa\u7840",level:2},{value:"\u8fd0\u884c\u73af\u5883",id:"\u8fd0\u884c\u73af\u5883",level:3},{value:"\u53cc\u7ebf\u7a0b\u6a21\u578b",id:"\u53cc\u7ebf\u7a0b\u6a21\u578b",level:3},{value:"skyline \u6e32\u67d3\u5f15\u64ce",id:"skyline-\u6e32\u67d3\u5f15\u64ce",level:3},{value:"\u6a21\u5757\u5316",id:"\u6a21\u5757\u5316",level:3},{value:"\u5206\u5305\u4e0e\u5206\u5305\u9884\u4e0b\u8f7d",id:"\u5206\u5305\u4e0e\u5206\u5305\u9884\u4e0b\u8f7d",level:3},{value:"\u751f\u547d\u5468\u671f",id:"\u751f\u547d\u5468\u671f",level:3},{value:"\u5c0f\u7a0b\u5e8f\u751f\u547d\u5468\u671f",id:"\u5c0f\u7a0b\u5e8f\u751f\u547d\u5468\u671f",level:4},{value:"\u5c0f\u7a0b\u5e8f\u66f4\u65b0",id:"\u5c0f\u7a0b\u5e8f\u66f4\u65b0",level:3},{value:"\u5f00\u53d1",id:"\u5f00\u53d1",level:2},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:3},{value:"\u57fa\u7840\u8bed\u6cd5",id:"\u57fa\u7840\u8bed\u6cd5",level:3},{value:"\u91cd\u547d\u540d<code>wx:for</code>\u904d\u5386\u5143\u7d20\u540d\u79f0\u3001\u7d22\u5f15",id:"\u91cd\u547d\u540dwxfor\u904d\u5386\u5143\u7d20\u540d\u79f0\u7d22\u5f15",level:4},{value:"\u6761\u4ef6\u6e32\u67d3",id:"\u6761\u4ef6\u6e32\u67d3",level:4},{value:"\u573a\u666f\u4e00\uff1a\u5224\u65ad\u5c0f\u7a0b\u5e8f\u8fdb\u5165\u7684\u573a\u666f/\u9014\u5f84",id:"\u573a\u666f\u4e00\u5224\u65ad\u5c0f\u7a0b\u5e8f\u8fdb\u5165\u7684\u573a\u666f\u9014\u5f84",level:3},{value:"\u573a\u666f\u4e8c\uff1aonlaunch \u51fd\u6570\u5e38\u89c1\u64cd\u4f5c",id:"\u573a\u666f\u4e8conlaunch-\u51fd\u6570\u5e38\u89c1\u64cd\u4f5c",level:3},{value:"\u573a\u666f\u4e09\uff1a\u4e8b\u4ef6\u53c2\u6570\u4f20\u9012",id:"\u573a\u666f\u4e09\u4e8b\u4ef6\u53c2\u6570\u4f20\u9012",level:3},{value:"\u573a\u666f\u56db\uff1a\u83b7\u53d6\u8bbe\u5907\u4fe1\u606f\uff08\u81ea\u5b9a\u4e49 navbar\u3001\u80f6\u56ca\u4f4d\u7f6e\u3001\u5b89\u5168\u5e95\u90e8\uff09",id:"\u573a\u666f\u56db\u83b7\u53d6\u8bbe\u5907\u4fe1\u606f\u81ea\u5b9a\u4e49-navbar\u80f6\u56ca\u4f4d\u7f6e\u5b89\u5168\u5e95\u90e8",level:3},{value:"\u573a\u666f\u4e94\uff1a\u8def\u7531\u8df3\u8f6c",id:"\u573a\u666f\u4e94\u8def\u7531\u8df3\u8f6c",level:3},{value:"\u573a\u666f\u516d\uff1a\u624b\u673a\u53f7\u5feb\u6377\u767b\u5f55\uff08\u5fae\u4fe1\u5f00\u653e\u80fd\u529b\uff09",id:"\u573a\u666f\u516d\u624b\u673a\u53f7\u5feb\u6377\u767b\u5f55\u5fae\u4fe1\u5f00\u653e\u80fd\u529b",level:3},{value:"\u573a\u666f\u4e03\uff1a<code>onShow()</code>\u83b7\u53d6\u9875\u9762\u4f20\u53c2",id:"\u573a\u666f\u4e03onshow\u83b7\u53d6\u9875\u9762\u4f20\u53c2",level:3},{value:"\u573a\u666f\u516b\uff1a\u4e0a\u4f20\u56fe\u7247",id:"\u573a\u666f\u516b\u4e0a\u4f20\u56fe\u7247",level:3},{value:"\u573a\u666f\u4e5d\uff1a\u81ea\u5b9a\u4e49\u7ec4\u4ef6",id:"\u573a\u666f\u4e5d\u81ea\u5b9a\u4e49\u7ec4\u4ef6",level:3},{value:"\u57fa\u7840\u4f7f\u7528\u793a\u4f8b\uff1a/components/goods-cpn",id:"\u57fa\u7840\u4f7f\u7528\u793a\u4f8bcomponentsgoods-cpn",level:4},{value:"\u7ec4\u4ef6\u901a\u4fe1",id:"\u7ec4\u4ef6\u901a\u4fe1",level:4},{value:"\u7ec4\u4ef6\u6837\u5f0f\u9694\u79bb",id:"\u7ec4\u4ef6\u6837\u5f0f\u9694\u79bb",level:4},{value:"\u5916\u90e8\u6837\u5f0f\u7c7b",id:"\u5916\u90e8\u6837\u5f0f\u7c7b",level:4},{value:"\u7ec4\u4ef6\u5c40\u90e8\u5f15\u7528\u7ec4\u4ef6\u6240\u5728\u9875\u9762\u7684\u6837\u5f0f",id:"\u7ec4\u4ef6\u5c40\u90e8\u5f15\u7528\u7ec4\u4ef6\u6240\u5728\u9875\u9762\u7684\u6837\u5f0f",level:4},{value:"\u7ec4\u4ef6\u5f15\u7528\u7236\u7ec4\u4ef6\u7684\u6837\u5f0f",id:"\u7ec4\u4ef6\u5f15\u7528\u7236\u7ec4\u4ef6\u7684\u6837\u5f0f",level:4},{value:"\u5b9e\u73b0 \uff1a\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u5185\u90e8\u7684\u7b2c\u4e00\u5c42\u8282\u70b9\u80fd\u591f\u54cd\u5e94 flex \u5e03\u5c40\u6216\u8005\u6837\u5f0f\u7531\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u672c\u8eab\u5b8c\u5168\u51b3\u5b9a",id:"\u5b9e\u73b0-\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u5185\u90e8\u7684\u7b2c\u4e00\u5c42\u8282\u70b9\u80fd\u591f\u54cd\u5e94-flex-\u5e03\u5c40\u6216\u8005\u6837\u5f0f\u7531\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u672c\u8eab\u5b8c\u5168\u51b3\u5b9a",level:4},{value:"\u573a\u666f\u5341\uff1a\u4e0b\u62c9\u5237\u65b0 / \u4e0a\u6ed1\u5237\u65b0 / \u9875\u9762\u6eda\u52a8",id:"\u573a\u666f\u5341\u4e0b\u62c9\u5237\u65b0--\u4e0a\u6ed1\u5237\u65b0--\u9875\u9762\u6eda\u52a8",level:3},{value:"\u573a\u666f\u5341\u4e00\uff1a pdf \u9884\u89c8",id:"\u573a\u666f\u5341\u4e00-pdf-\u9884\u89c8",level:3},{value:"\u573a\u666f\u5341\u4e8c\uff1a\u5fae\u4fe1\u652f\u4ed8",id:"\u573a\u666f\u5341\u4e8c\u5fae\u4fe1\u652f\u4ed8",level:3},{value:"\u573a\u666f\u5341\u4e09\uff1atoken \u65e0\u611f\u5237\u65b0",id:"\u573a\u666f\u5341\u4e09token-\u65e0\u611f\u5237\u65b0",level:3},{value:"\u573a\u666f\u5341\u56db\uff1a\u5185\u5d4c H5 \u9875\u9762",id:"\u573a\u666f\u5341\u56db\u5185\u5d4c-h5-\u9875\u9762",level:3}];function t(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"native-wx",children:"native wx"}),"\n",(0,i.jsx)(e.h2,{id:"\u57fa\u7840",children:"\u57fa\u7840"}),"\n",(0,i.jsx)(e.h3,{id:"\u8fd0\u884c\u73af\u5883",children:"\u8fd0\u884c\u73af\u5883"}),"\n",(0,i.jsx)(e.p,{children:"\u5f53\u5c0f\u7a0b\u5e8f\u57fa\u4e8e WebView \u73af\u5883\u4e0b\u65f6\uff0cWebView \u7684 JS \u903b\u8f91\u3001DOM \u6811\u521b\u5efa\u3001CSS \u89e3\u6790\u3001\u6837\u5f0f\u8ba1\u7b97\u3001Layout\u3001Paint (Composite) \u90fd\u53d1\u751f\u5728\u540c\u4e00\u7ebf\u7a0b\uff0c\u5728 WebView \u4e0a\u6267\u884c\u8fc7\u591a\u7684 JS \u903b\u8f91\u53ef\u80fd\u963b\u585e\u6e32\u67d3\uff0c\u5bfc\u81f4\u754c\u9762\u5361\u987f\u3002\u4ee5\u6b64\u4e3a\u524d\u63d0\uff0c\u5c0f\u7a0b\u5e8f\u540c\u65f6\u8003\u8651\u4e86\u6027\u80fd\u4e0e\u5b89\u5168\uff0c\u91c7\u7528\u4e86\u76ee\u524d\u79f0\u4e3a\u300c\u53cc\u7ebf\u7a0b\u6a21\u578b\u300d\u7684\u67b6\u6784\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"\u53cc\u7ebf\u7a0b\u6a21\u578b",children:"\u53cc\u7ebf\u7a0b\u6a21\u578b"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u6982\u5ff5"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6e32\u67d3\u7ebf\u7a0b\uff08UI \u7ebf\u7a0b\uff09\u548c\u903b\u8f91\u7ebf\u7a0b\uff08JS \u7ebf\u7a0b\uff09\u5206\u79bb"}),"\n",(0,i.jsx)(e.li,{children:"\u6bcf\u4e2a\u9875\u9762\u90fd\u9700\u8981\u65b0\u5efa\u4e00\u4e2a JS \u5f15\u64ce\u5b9e\u4f8b\uff08WebView\uff09"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5c0f\u7a0b\u5e8f\uff1aAppService \u548c WebView \u7684\u53cc\u7ebf\u7a0b\u6a21\u578b"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["WXML \u6a21\u5757\u548c WXSS \u6837\u5f0f\u8fd0\u884c\u4e8e",(0,i.jsx)(e.strong,{children:"\u6e32\u67d3\u5c42"}),"\uff0c\u6e32\u67d3\u5c42\u7684\u754c\u9762\u4f7f\u7528 WebView \u8fdb\u884c\u6e32\u67d3\uff08\u4e00\u4e2a\u5c0f\u7a0b\u5e8f\u5b58\u5728\u591a\u4e2a\u754c\u9762\uff0c\u6240\u4ee5\u6e32\u67d3\u5c42\u5b58\u5728\u591a\u4e2a WebView \u7ebf\u7a0b\uff09"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["JS \u811a\u672c\u5de5\u4f5c\u5728",(0,i.jsx)(e.strong,{children:"\u903b\u8f91\u5c42"}),"\uff0c\u903b\u8f91\u5c42\u91c7\u7528 JsCore \u7ebf\u7a0b\u8fd0\u884c JS \u811a\u672c"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u8fd9\u4e24\u4e2a\u7ebf\u7a0b\u7684\u901a\u4fe1\u4f1a\u7ecf\u7531\u5fae\u4fe1\u5ba2\u6237\u7aef\uff08Native\uff09\u505a\u4e2d\u8f6c\uff0c\u903b\u8f91\u5c42\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\u4e5f\u7ecf\u7531 Native \u8f6c\u53d1\uff0c\u5c0f\u7a0b\u5e8f\u7684\u901a\u4fe1\u6a21\u578b\u4e0b\u56fe\u6240\u793a\u3002\n",(0,i.jsx)(e.img,{src:s(34944).A+"",width:"2356",height:"1746"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"skyline-\u6e32\u67d3\u5f15\u64ce",children:"skyline \u6e32\u67d3\u5f15\u64ce"}),"\n",(0,i.jsx)(e.p,{children:"\u4e3a\u4e86\u8fdb\u4e00\u6b65\u4f18\u5316\u5c0f\u7a0b\u5e8f\u6027\u80fd\uff0c\u63d0\u4f9b\u66f4\u4e3a\u63a5\u8fd1\u539f\u751f\u7684\u7528\u6237\u4f53\u9a8c\uff0c\u5c0f\u7a0b\u5e8f\u5728 WebView \u6e32\u67d3\u4e4b\u5916\u65b0\u589e\u4e86\u4e00\u4e2a\u6e32\u67d3\u5f15\u64ce Skyline\uff0c\u5176\u4f7f\u7528\u66f4\u7cbe\u7b80\u9ad8\u6548\u7684\u6e32\u67d3\u7ba1\u7ebf\uff0c\u5e76\u5e26\u6765\u8bf8\u591a\u589e\u5f3a\u7279\u6027\uff0c\u8ba9 Skyline \u62e5\u6709\u66f4\u63a5\u8fd1\u539f\u751f\u6e32\u67d3\u7684\u6027\u80fd\u4f53\u9a8c\u3002"}),"\n",(0,i.jsx)(e.p,{children:"Skyline \u521b\u5efa\u4e86\u4e00\u6761\u6e32\u67d3\u7ebf\u7a0b\u6765\u8d1f\u8d23 Layout, Composite \u548c Paint \u7b49\u6e32\u67d3\u4efb\u52a1\uff0c\u5e76\u5728 AppService \u4e2d\u5212\u51fa\u4e00\u4e2a\u72ec\u7acb\u7684\u4e0a\u4e0b\u6587\uff0c\u6765\u8fd0\u884c\u4e4b\u524d WebView \u627f\u62c5\u7684 JS \u903b\u8f91\u3001DOM \u6811\u521b\u5efa\u7b49\u903b\u8f91\u3002\u8fd9\u79cd\u65b0\u7684\u67b6\u6784\u76f8\u6bd4\u539f\u6709\u7684 WebView \u67b6\u6784\uff0c\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u754c\u9762\u66f4\u4e0d\u5bb9\u6613\u88ab\u903b\u8f91\u963b\u585e\uff0c\u8fdb\u4e00\u6b65\u51cf\u5c11\u5361\u987f"}),"\n",(0,i.jsx)(e.li,{children:"\u65e0\u9700\u4e3a\u6bcf\u4e2a\u9875\u9762\u65b0\u5efa\u4e00\u4e2a JS \u5f15\u64ce\u5b9e\u4f8b\uff08WebView\uff09\uff0c\u51cf\u5c11\u4e86\u5185\u5b58\u3001\u65f6\u95f4\u5f00\u9500"}),"\n",(0,i.jsx)(e.li,{children:"\u6846\u67b6\u53ef\u4ee5\u5728\u9875\u9762\u4e4b\u95f4\u5171\u4eab\u66f4\u591a\u7684\u8d44\u6e90\uff0c\u8fdb\u4e00\u6b65\u51cf\u5c11\u8fd0\u884c\u65f6\u5185\u5b58\u3001\u65f6\u95f4\u5f00\u9500"}),"\n",(0,i.jsx)(e.li,{children:"\u6846\u67b6\u7684\u4ee3\u7801\u4e4b\u95f4\u65e0\u9700\u518d\u901a\u8fc7 JSBridge \u8fdb\u884c\u6570\u636e\u4ea4\u6362\uff0c\u51cf\u5c11\u4e86\u5927\u91cf\u901a\u4fe1\u65f6\u95f4\u5f00\u9500"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:s(2622).A+"",width:"839",height:"708"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"\u6a21\u5757\u5316",children:"\u6a21\u5757\u5316"}),"\n",(0,i.jsxs)(e.p,{children:["\u53ef\u4ee5\u5c06\u4e00\u4e9b\u516c\u5171\u7684\u4ee3\u7801\u62bd\u79bb\u6210\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684 js \u6587\u4ef6\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u6a21\u5757\u3002\u6a21\u5757\u53ea\u6709\u901a\u8fc7 ",(0,i.jsx)(e.code,{children:"module.exports"}),"(\u5efa\u8bae\u4f7f\u7528) \u6216\u8005 ",(0,i.jsx)(e.code,{children:"exports"})," \u624d\u80fd\u5bf9\u5916\u66b4\u9732\u63a5\u53e3"]}),"\n",(0,i.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"// common.js\nfunction sayHello(name) {\n  console.log(`Hello $`{name}` !`);\n}\nfunction sayGoodbye(name) {\n  console.log(`Goodbye $`{name}` !`);\n}\n\nmodule.exports.sayHello = sayHello;\nexports.sayGoodbye = sayGoodbye;\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u4f7f\u7528\u516c\u5171\u51fd\u6570(require \u5f15\u5165)\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"const common = require('common.js');\nPage({\n  helloMINA: function () {\n    common.sayHello('MINA');\n  },\n  goodbyeMINA: function () {\n    common.sayGoodbye('MINA');\n  }\n});\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"\u5206\u5305\u4e0e\u5206\u5305\u9884\u4e0b\u8f7d",children:"\u5206\u5305\u4e0e\u5206\u5305\u9884\u4e0b\u8f7d"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u7406\u89e3\u5206\u5305"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6982\u5ff5\uff1a\u628a\u4e00\u4e2a\u5b8c\u6574\u7684\u5c0f\u7a0b\u5e8f\u9879\u76ee\uff0c\u6309\u7167\u9700\u6c42\u5212\u5206\u4e3a\u4e0d\u540c\u7684\u81ea\u4fdd\uff0c\u5728\u6784\u5efa\u65f6\u6253\u5305\u6210\u4e0d\u540c\u7684\u5206\u5305\uff0c\u7528\u6237\u5728\u4f7f\u7528\u65f6\u6309\u9700\u8fdb\u884c\u52a0\u8f7d"}),"\n",(0,i.jsx)(e.li,{children:"\u4f18\u70b9\uff1a\u53ef\u4ee5\u4f18\u5316\u5c0f\u7a0b\u5e8f\u9996\u6b21\u542f\u52a8\u7684\u4e0b\u8f7d\u65f6\u95f4\uff0c\u4ee5\u53ca\u5728\u591a\u56e2\u961f\u5171\u540c\u5f00\u53d1\u65f6\u53ef\u4ee5\u66f4\u597d\u7684\u89e3\u8026\u534f\u4f5c"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:s(91930).A+"",width:"850",height:"257"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u7ec4\u6210\uff1a\u5206\u5305\u540e\uff0c\u5c0f\u7a0b\u5e8f\u9879\u76ee\u7531 1 \u4e2a\u4e3b\u5305 + \u591a\u4e2a\u5206\u5305\u7ec4\u6210\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4e3b\u5305\uff1a\u4e00\u822c\u53ea\u5305\u542b\u9879\u76ee\u7684\u542f\u52a8\u9875\u9762\u6216 Tabbar \u9875\u9762\uff0c\u4ee5\u53ca\u6240\u6709\u5206\u5305\u90fd\u9700\u8981\u7528\u5230\u7684\u4e00\u4e9b\u516c\u5171\u8d44\u6e90"}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5206\u5305\uff1a\u53ea\u5305\u542b\u548c\u5f53\u524d\u5206\u5305\u6709\u5173\u7684\u9875\u9762\u548c\u79c1\u6709\u8d44\u6e90"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u4f53\u79ef\u9650\u5236\uff1a(\u76ee\u524d)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6574\u4f53\u5c0f\u7a0b\u5e8f\u6240\u6709\u5206\u5305\u5927\u5c0f\u4e0d\u8d85\u8fc7 16M\uff08\u4e3b\u5305 + \u6240\u6709\u5206\u5305\uff09"}),"\n",(0,i.jsx)(e.li,{children:"\u5355\u4e2a\u5206\u5305 / \u4e3b\u5305\u4e0d\u80fd\u8d85\u8fc7 2M"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u52a0\u8f7d\u89c4\u5219\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5728\u5c0f\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u9ed8\u8ba4\u4f1a\u4e0b\u8f7d\u4e3b\u5305\u5e76\u542f\u52a8\u4e3b\u5305\u5185\u9875\u9762"}),"\n",(0,i.jsx)(e.li,{children:"\u5f53\u7528\u6237\u8fdb\u5165\u5206\u5305\u67d0\u4e2a\u9875\u9762\u65f6\uff0c\u5ba2\u6237\u7aef\u4f1a\u628a\u5bf9\u5e94\u5206\u5305\u4e0b\u8f7d\u4e0b\u6765\uff0c\u4e0b\u8f7d\u5b8c\u6210\u540e\u5728\u8fdb\u884c\u5c55\u793a\u3002\u975e tabBar \u9875\u9762\u6839\u636e\u529f\u80fd\u7684\u4e0d\u540c\uff0c\u5212\u5206\u4e3a\u4e0d\u540c\u7684\u5206\u5305\u4e4b\u540e\uff0c\u8fdb\u884c\u6309\u9700\u4e0b\u8f7d\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6253\u5305\u539f\u5219"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5c0f\u7a0b\u5e8f\u4f1a\u6309 subpackages \u7684\u914d\u7f6e\u8fdb\u884c\u5206\u5305\uff0csubpackage \u4e4b\u5916\u7684\u76ee\u5f55\u5c06\u88ab\u6253\u5305\u5230\u4e3b\u5305\u4e2d"}),"\n",(0,i.jsx)(e.li,{children:"\u4e3b\u5305\u4e5f\u53ef\u4ee5\u6709\u81ea\u5df1\u7684 pages(\u5373\u6700\u5916\u5c42\u7684 pages \u5b57\u6bb5)"}),"\n",(0,i.jsx)(e.li,{children:"tabBar \u9875\u9762\u5fc5\u987b\u5728\u4e3b\u5305\u5185"}),"\n",(0,i.jsx)(e.li,{children:"\u4e3b\u5206\u5305\u4e4b\u95f4\u4e0d\u80fd\u76f8\u4e92\u5d4c\u5957"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5f15\u7528\u539f\u5219"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4e3b\u5305\u65e0\u6cd5\u5f15\u7528\u5206\u5305\u5185\u7684\u79c1\u6709\u8d44\u6e90"}),"\n",(0,i.jsx)(e.li,{children:"\u5206\u5305\u4e4b\u95f4\u4e0d\u80fd\u76f8\u4e92\u5f15\u7528\u79c1\u6709\u8d44\u6e90"}),"\n",(0,i.jsx)(e.li,{children:"\u5206\u5305\u53ef\u4ee5\u5f15\u7528\u4e3b\u5305\u5185\u7684\u516c\u5171\u8d44\u6e90"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u5206\u5305\u5212\u5206\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6309\u7167\u529f\u80fd\u5212\u5206\u7684\u7684\u539f\u5219\uff0c\u5c06\u540c\u4e00\u4e2a\u529f\u80fd\u4e0b\u7684\u9875\u9762\u548c\u903b\u8f91\u653e\u7f6e\u4e8e\u540c\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u8de8\u529f\u80fd\u4e4b\u95f4\u516c\u5171\u903b\u8f91\uff0c\u5c06\u5176\u653e\u7f6e\u4e8e\u4e3b\u5305\u4e0b"}),"\uff0c\u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u5728\u5206\u5305\u5f15\u7528\u8fd9\u90e8\u5206\u529f\u80fd\u65f6\uff0c\u8fd9\u90e8\u5206\u7684\u903b\u8f91\u4e00\u5b9a\u5b58\u5728\u3002"]}),"\n",(0,i.jsx)(e.li,{children:'\u907f\u514d\u5206\u5305\u4e0e\u5206\u5305\u4e4b\u95f4\u5f15\u7528\u4e0a\u7684\u8026\u5408\u3002\u56e0\u4e3a\u5206\u5305\u7684\u52a0\u8f7d\u662f\u7531\u7528\u6237\u64cd\u4f5c\u89e6\u53d1\u7684\uff0c\u5e76\u4e0d\u80fd\u786e\u4fdd\u67d0\u5206\u5305\u52a0\u8f7d\u65f6\uff0c\u53e6\u5916\u4e00\u4e2a\u5206\u5305\u5c31\u4e00\u5b9a\u5b58\u5728\uff0c\u8fd9\u4e2a\u65f6\u5019\u53ef\u80fd\u4f1a\u5bfc\u81f4 JS \u903b\u8f91\u5f02\u5e38\u7684\u60c5\u51b5\uff0c\u4f8b\u5982\u62a5\u300c"xxx.js" is not defined\u300d\u8fd9\u6837\u7684\u9519\u8bef\u3002'}),"\n",(0,i.jsx)(e.li,{children:"\u4e00\u4e9b\u516c\u5171\u7528\u5230\u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff0c\u9700\u8981\u653e\u5728\u4e3b\u5305\u5185\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5206\u5305\u914d\u7f6e\u793a\u4f8b"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"root\uff1a\u5206\u5305\u7684\u6839\u76ee\u5f55"}),"\n",(0,i.jsx)(e.li,{children:"pages\uff1a\u5f53\u524d\u9875\u9762\u4e0b\uff0c\u6240\u6709\u9875\u9762\u7684\u76f8\u5bf9\u8def\u5f84"}),"\n",(0,i.jsx)(e.li,{children:"name\uff1a\u5206\u5305\u522b\u540d"}),"\n",(0,i.jsx)(e.li,{children:"independent\uff1a\u662f\u5426\u4e3a\u72ec\u7acb\u5206\u5305"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:s(67993).A+"",width:"766",height:"640"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u72ec\u7acb\u5206\u5305"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u7406\u89e3\u72ec\u7acb\u5206\u5305\uff1a\u72ec\u7acb\u5206\u5305\u662f\u5c0f\u7a0b\u5e8f\u4e2d\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u5206\u5305\uff0c\u53ef\u4ee5\u72ec\u7acb\u4e8e\u4e3b\u5305\u548c\u5176\u4ed6\u5206\u5305\u8fd0\u884c\u3002\u4ece\u72ec\u7acb\u5206\u5305\u4e2d\u9875\u9762\u8fdb\u5165\u5c0f\u7a0b\u5e8f\u65f6\uff0c\u4e0d\u9700\u8981\u4e0b\u8f7d\u4e3b\u5305\u3002\u5f53\u7528\u6237\u8fdb\u5165\u666e\u901a\u5206\u5305\u6216\u4e3b\u5305\u5185\u9875\u9762\u65f6\uff0c\u4e3b\u5305\u624d\u4f1a\u88ab\u4e0b\u8f7d\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5f15\u7528\u539f\u5219\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u72ec\u7acb\u5206\u5305\u3001\u666e\u901a\u5206\u5305\u3001\u4e3b\u5305\u4e4b\u95f4\u662f\u76f8\u4e92\u9694\u7edd\u7684\uff0c\u4e0d\u80fd\u4e92\u76f8\u5f15\u7528\u5f7c\u6b64\u7684\u8d44\u6e90"}),"\n",(0,i.jsx)(e.li,{children:"\u4e3b\u5305\u65e0\u6cd5\u5f15\u7528\u72ec\u7acb\u5206\u5305\u5185\u7684\u79c1\u6709\u8d44\u6e90"}),"\n",(0,i.jsx)(e.li,{children:"\u72ec\u7acb\u5206\u5305\u4e4b\u95f4\uff0c\u4e0d\u80fd\u4e92\u76f8\u5f15\u7528\u79c1\u6709\u8d44\u6e90"}),"\n",(0,i.jsx)(e.li,{children:"\u72ec\u7acb\u5206\u5305\u548c\u666e\u901a\u5206\u5305\u4e4b\u95f4\uff0c\u4e0d\u80fd\u4e92\u76f8\u5f15\u7528\u79c1\u6709\u8d44\u6e90"}),"\n",(0,i.jsx)(e.li,{children:"\u7279\u522b\u6ce8\u610f\uff1a\u72ec\u7acb\u5206\u5305\u4e2d\u4e0d\u80fd\u5f15\u7528\u4e3b\u5305\u5185\u7684\u516c\u5171\u8d44\u6e90\uff0c\u800c\u666e\u901a\u5206\u5305\u53ef\u4ee5"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\uff081\uff09\u5173\u4e8e getApp()"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4e0e\u666e\u901a\u5206\u5305\u4e0d\u540c\uff0c\u72ec\u7acb\u5206\u5305\u8fd0\u884c\u65f6\uff0cApp \u5e76\u4e0d\u4e00\u5b9a\u88ab\u6ce8\u518c\uff0c\u56e0\u6b64 getApp() \u4e5f\u4e0d\u4e00\u5b9a\u53ef\u4ee5\u83b7\u5f97 App \u5bf9\u8c61\uff1a\u5f53\u7528\u6237\u4ece\u72ec\u7acb\u5206\u5305\u9875\u9762\u542f\u52a8\u5c0f\u7a0b\u5e8f\u65f6\uff0c\u4e3b\u5305\u4e0d\u5b58\u5728\uff0cApp \u4e5f\u4e0d\u5b58\u5728\uff0c\u6b64\u65f6\u8c03\u7528 getApp() \u83b7\u53d6\u5230\u7684\u662f undefined\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u5f53\u7528\u6237\u8fdb\u5165\u666e\u901a\u5206\u5305\u6216\u4e3b\u5305\u5185\u9875\u9762\u65f6\uff0c\u4e3b\u5305\u624d\u4f1a\u88ab\u4e0b\u8f7d\uff0cApp \u624d\u4f1a\u88ab\u6ce8\u518c\u3002\u5f53\u7528\u6237\u662f\u4ece\u666e\u901a\u5206\u5305\u6216\u4e3b\u5305\u5185\u9875\u9762\u8df3\u8f6c\u5230\u72ec\u7acb\u5206\u5305\u9875\u9762\u65f6\uff0c\u4e3b\u5305\u5df2\u7ecf\u5b58\u5728\uff0c\u6b64\u65f6\u8c03\u7528 getApp() \u53ef\u4ee5\u83b7\u53d6\u5230\u771f\u6b63\u7684 App\u3002\u7531\u4e8e\u8fd9\u4e00\u9650\u5236\uff0c\u5f00\u53d1\u8005\u65e0\u6cd5\u901a\u8fc7 App \u5bf9\u8c61\u5b9e\u73b0\u72ec\u7acb\u5206\u5305\u548c\u5c0f\u7a0b\u5e8f\u5176\u4ed6\u90e8\u5206\u7684\u5168\u5c40\u53d8\u91cf\u5171\u4eab\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u4e3a\u4e86\u5728\u72ec\u7acb\u5206\u5305\u4e2d\u6ee1\u8db3\u8fd9\u4e00\u9700\u6c42\uff0c\u57fa\u7840\u5e93 2.2.4 \u7248\u672c\u5f00\u59cb getApp \u652f\u6301 [allowDefault] \u53c2\u6570\uff0c\u5728 App \u672a\u5b9a\u4e49\u65f6\u8fd4\u56de\u4e00\u4e2a\u9ed8\u8ba4\u5b9e\u73b0\u3002\u5f53\u4e3b\u5305\u52a0\u8f7d\uff0cApp \u88ab\u6ce8\u518c\u65f6\uff0c\u9ed8\u8ba4\u5b9e\u73b0\u4e2d\u5b9a\u4e49\u7684\u5c5e\u6027\u4f1a\u88ab\u8986\u76d6\u5408\u5e76\u5230\u771f\u6b63\u7684 App \u4e2d\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\uff082\uff09\u5173\u4e8e App \u751f\u547d\u5468\u671f"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5f53\u4ece\u72ec\u7acb\u5206\u5305\u542f\u52a8\u5c0f\u7a0b\u5e8f\u65f6\uff0c\u4e3b\u5305\u4e2d App \u7684 onLaunch \u548c\u9996\u6b21 onShow \u4f1a\u5728\u4ece\u72ec\u7acb\u5206\u5305\u9875\u9762\u9996\u6b21\u8fdb\u5165\u4e3b\u5305\u6216\u5176\u4ed6\u666e\u901a\u5206\u5305\u9875\u9762\u65f6\u8c03\u7528\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u7531\u4e8e\u72ec\u7acb\u5206\u5305\u4e2d\u65e0\u6cd5\u5b9a\u4e49 App\uff0c\u5c0f\u7a0b\u5e8f\u751f\u547d\u5468\u671f\u7684\u76d1\u542c\u53ef\u4ee5\u4f7f\u7528 wx.onAppShow\uff0cwx.onAppHide \u5b8c\u6210\u3002App \u4e0a\u7684\u5176\u4ed6\u4e8b\u4ef6\u53ef\u4ee5\u4f7f\u7528 wx.onError\uff0cwx.onPageNotFound \u76d1\u542c\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5206\u5305\u9884\u4e0b\u8f7d"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u7406\u89e3\uff1a\u5f00\u53d1\u8005\u53ef\u4ee5\u9884\u5148\u914d\u7f6e\u67d0\u4e2a\u9875\u9762\u53ef\u80fd\u4f1a\u8df3\u8f6c\u5230\u7684\u5206\u5305\uff08\u5bf9\u4e8e\u72ec\u7acb\u5206\u5305\uff0c\u4e5f\u53ef\u4ee5\u9884\u4e0b\u8f7d\u4e3b\u5305\uff09\uff0c\u5728\u8fdb\u5165\u5c0f\u7a0b\u5e8f\u67d0\u4e2a\u9875\u9762\u65f6\uff0c\u7531\u57fa\u7840\u5e93\u5728\u540e\u53f0\u81ea\u52a8\u9884\u4e0b\u8f7d\u53ef\u80fd\u9700\u8981\u7684\u5206\u5305\u3002\u7528\u6237\u5728\u8fdb\u884c\u9875\u9762\u8df3\u8f6c\u65f6\uff0c\u5206\u5305\u901a\u5e38\u5df2\u7ecf\u4e0b\u8f7d\u5b8c\u6210\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7b49\u5f85\uff0c\u53ef\u4ee5\u6709\u6548\u63d0\u5347\u8fdb\u5165\u540e\u7eed\u5206\u5305\u9875\u9762\u65f6\u7684\u542f\u52a8\u901f\u5ea6\u3002\u6b64\u5916\uff0c\u8003\u8651\u5230\u7528\u6237\u7684\u6d41\u91cf\u548c\u5b58\u50a8\u7a7a\u95f4\uff0c\u5c0f\u7a0b\u5e8f\u4e5f\u4f1a\u5bf9\u9884\u4e0b\u8f7d\u7684\u5927\u5c0f\u548c\u7f51\u7edc\u8fdb\u884c\u4e00\u5b9a\u7684\u9650\u5236\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u4f7f\u7528\u65b9\u6cd5\uff1a\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7\u5728 app.json \u4e2d\u589e\u52a0 preloadRule \u5b57\u6bb5\uff0c\u63a7\u5236\u8fdb\u5165\u67d0\u4e2a\u9875\u9762\u65f6\u8fdb\u884c\u9884\u4e0b\u8f7d\u7684\u5206\u5305\uff0c\u5e76\u8bbe\u7f6e\u89e6\u53d1\u9884\u4e0b\u8f7d\u7684\u7f51\u7edc\u73af\u5883\u3002\n",(0,i.jsx)(e.img,{src:s(77181).A+"",width:"1016",height:"1380"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"\u751f\u547d\u5468\u671f",children:"\u751f\u547d\u5468\u671f"}),"\n",(0,i.jsx)(e.h4,{id:"\u5c0f\u7a0b\u5e8f\u751f\u547d\u5468\u671f",children:"\u5c0f\u7a0b\u5e8f\u751f\u547d\u5468\u671f"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5c0f\u7a0b\u5e8f\u542f\u52a8"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u51b7\u542f\u52a8\uff1a\u5982\u679c\u7528\u6237\u9996\u6b21\u6253\u5f00\uff0c\u6216\u5c0f\u7a0b\u5e8f\u9500\u6bc1\u540e\u88ab\u7528\u6237\u518d\u6b21\u6253\u5f00\uff0c\u6b64\u65f6\u5c0f\u7a0b\u5e8f\u9700\u8981\u91cd\u65b0\u52a0\u8f7d\u542f\u52a8\uff0c\u5373\u51b7\u542f\u52a8\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u70ed\u542f\u52a8\uff1a\u5982\u679c\u7528\u6237\u5df2\u7ecf\u6253\u5f00\u8fc7\u67d0\u5c0f\u7a0b\u5e8f\uff0c\u7136\u540e\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u518d\u6b21\u6253\u5f00\u8be5\u5c0f\u7a0b\u5e8f\uff0c\u6b64\u65f6\u5c0f\u7a0b\u5e8f\u5e76\u672a\u88ab\u9500\u6bc1\uff0c\u53ea\u662f\u4ece\u540e\u53f0\u72b6\u6001\u8fdb\u5165\u524d\u53f0\u72b6\u6001\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u662f\u70ed\u542f\u52a8"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:s(20754).A+"",width:"314",height:"742"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u9875\u9762\u751f\u547d\u5468\u671f"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{src:s(50541).A+"",width:"662",height:"1014"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u7ec4\u4ef6\u751f\u547d\u5468\u671f"})}),"\n",(0,i.jsx)(e.p,{children:"\u6700\u91cd\u8981\u7684\u751f\u547d\u5468\u671f\u662f created attached detached \uff0c\u5305\u542b\u4e00\u4e2a\u7ec4\u4ef6\u5b9e\u4f8b\u751f\u547d\u6d41\u7a0b\u7684\u6700\u4e3b\u8981\u65f6\u95f4\u70b9\u3002"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7ec4\u4ef6\u5b9e\u4f8b\u521a\u521a\u88ab\u521b\u5efa\u597d\u65f6\uff0c created \u751f\u547d\u5468\u671f\u88ab\u89e6\u53d1\u3002\u6b64\u65f6\uff0c\u7ec4\u4ef6\u6570\u636e this.data \u5c31\u662f\u5728 Component \u6784\u9020\u5668\u4e2d\u5b9a\u4e49\u7684\u6570\u636e data \u3002 \u6b64\u65f6\u8fd8\u4e0d\u80fd\u8c03\u7528 setData \u3002 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u53ea\u5e94\u8be5\u7528\u4e8e\u7ed9\u7ec4\u4ef6 this \u6dfb\u52a0\u4e00\u4e9b\u81ea\u5b9a\u4e49\u5c5e\u6027\u5b57\u6bb5\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u5728\u7ec4\u4ef6\u5b8c\u5168\u521d\u59cb\u5316\u5b8c\u6bd5\u3001\u8fdb\u5165\u9875\u9762\u8282\u70b9\u6811\u540e\uff0c attached \u751f\u547d\u5468\u671f\u88ab\u89e6\u53d1\u3002\u6b64\u65f6\uff0c this.data \u5df2\u88ab\u521d\u59cb\u5316\u4e3a\u7ec4\u4ef6\u7684\u5f53\u524d\u503c\u3002\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u5f88\u6709\u7528\uff0c\u7edd\u5927\u591a\u6570\u521d\u59cb\u5316\u5de5\u4f5c\u53ef\u4ee5\u5728\u8fd9\u4e2a\u65f6\u673a\u8fdb\u884c\u3002"}),"\n",(0,i.jsx)(e.li,{children:"\u5728\u7ec4\u4ef6\u79bb\u5f00\u9875\u9762\u8282\u70b9\u6811\u540e\uff0c detached \u751f\u547d\u5468\u671f\u88ab\u89e6\u53d1\u3002\u9000\u51fa\u4e00\u4e2a\u9875\u9762\u65f6\uff0c\u5982\u679c\u7ec4\u4ef6\u8fd8\u5728\u9875\u9762\u8282\u70b9\u6811\u4e2d\uff0c\u5219 detached \u4f1a\u88ab\u89e6\u53d1\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"Component({\n  // \u4f18\u5148\u7ea7\u6700\u9ad8\n  lifetimes: {\n    attached: function () {\n      // \u5728\u7ec4\u4ef6\u5b9e\u4f8b\u8fdb\u5165\u9875\u9762\u8282\u70b9\u6811\u65f6\u6267\u884c\n    },\n    detached: function () {\n      // \u5728\u7ec4\u4ef6\u5b9e\u4f8b\u88ab\u4ece\u9875\u9762\u8282\u70b9\u6811\u79fb\u9664\u65f6\u6267\u884c\n    }\n  }\n});\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u7ec4\u4ef6\u6240\u5728\u9875\u9762\u7684\u751f\u547d\u5468\u671f"})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd8\u6709\u4e00\u4e9b\u7279\u6b8a\u7684\u751f\u547d\u5468\u671f\uff0c\u5b83\u4eec\u5e76\u975e\u4e0e\u7ec4\u4ef6\u6709\u5f88\u5f3a\u7684\u5173\u8054\uff0c\u4f46\u6709\u65f6\u7ec4\u4ef6\u9700\u8981\u83b7\u77e5\uff0c\u4ee5\u4fbf\u7ec4\u4ef6\u5185\u90e8\u5904\u7406\u3002\u8fd9\u6837\u7684\u751f\u547d\u5468\u671f\u79f0\u4e3a\u201c\u7ec4\u4ef6\u6240\u5728\u9875\u9762\u7684\u751f\u547d\u5468\u671f\u201d\uff0c\u5728 pageLifetimes \u5b9a\u4e49\u6bb5\u4e2d\u5b9a\u4e49\u3002\u5176\u4e2d\u53ef\u7528\u7684\u751f\u547d\u5468\u671f\u5305\u62ec\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"Component({\n  pageLifetimes: {\n    show: function () {\n      // \u9875\u9762\u88ab\u5c55\u793a\n    },\n    hide: function () {\n      // \u9875\u9762\u88ab\u9690\u85cf\n    },\n    resize: function (size) {\n      // \u9875\u9762\u5c3a\u5bf8\u53d8\u5316\n    }\n  }\n});\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u5c0f\u7a0b\u5e8f\u66f4\u65b0",children:"\u5c0f\u7a0b\u5e8f\u66f4\u65b0"}),"\n",(0,i.jsx)(e.p,{children:"\u624b\u52a8\u89e6\u53d1\u66f4\u65b0"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"const updateManager = wx.getUpdateManager();\n\nupdateManager.onCheckForUpdate(function (res) {\n  // \u8bf7\u6c42\u5b8c\u65b0\u7248\u672c\u4fe1\u606f\u7684\u56de\u8c03\n  console.log(res.hasUpdate);\n});\n\nupdateManager.onUpdateReady(function () {\n  wx.showModal({\n    title: '\u66f4\u65b0\u63d0\u793a',\n    content: '\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f',\n    success(res) {\n      if (res.confirm) {\n        // \u65b0\u7684\u7248\u672c\u5df2\u7ecf\u4e0b\u8f7d\u597d\uff0c\u8c03\u7528 applyUpdate \u5e94\u7528\u65b0\u7248\u672c\u5e76\u91cd\u542f\n        updateManager.applyUpdate();\n      }\n    }\n  });\n});\n\nupdateManager.onUpdateFailed(function () {\n  // \u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25\n});\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"\u5f00\u53d1",children:"\u5f00\u53d1"}),"\n",(0,i.jsx)(e.h3,{id:"\u914d\u7f6e\u6587\u4ef6",children:"\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5168\u5c40\u914d\u7f6e\u6587\u4ef6"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "pages": ["pages/index/index"],\n  "window": {\n    "backgroundTextStyle": "dark",\n    "navigationBarBackgroundColor": "#fff",\n    "navigationBarTitleText": "WeChat",\n    "navigationBarTextStyle": "black",\n    "enablePullDownRefresh": false\n  },\n  "tabBar": {\n    "selectedColor": "#ff8189", // \u6587\u5b57\u9ad8\u4eae\u989c\u8272\n    "list": [\n      {\n        "pagePath": "pages/home/home",\n        "text": "\u9996\u9875",\n        "iconPath": "static/icons/shouye.png",\n        "selectedIconPath": "static/icons/shouye-active.png"\n      }\n    ]\n  }\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u9875\u9762\u914d\u7f6e\u6587\u4ef6"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "navigationBarTitleText": "\u9875\u9762\u6807\u9898",\n  "enablePullDownRefresh": false, // \u4e0b\u62c9\u5237\u65b0\n  "usingComponents": `{}` // \u9875\u9762\u4e2d\u9700\u8981\u7528\u5230\u7684\u7ec4\u4ef6\u5728\u6b64\u6ce8\u518c\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u57fa\u7840\u8bed\u6cd5",children:"\u57fa\u7840\u8bed\u6cd5"}),"\n",(0,i.jsxs)(e.h4,{id:"\u91cd\u547d\u540dwxfor\u904d\u5386\u5143\u7d20\u540d\u79f0\u7d22\u5f15",children:["\u91cd\u547d\u540d",(0,i.jsx)(e.code,{children:"wx:for"}),"\u904d\u5386\u5143\u7d20\u540d\u79f0\u3001\u7d22\u5f15"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<view class="books">\n  \x3c!-- \u5c06\u6570\u7ec4\u4e2d\u904d\u5386\u5143\u7d20item\u91cd\u547d\u540d\u4e3abook\uff1bindex\u91cd\u547d\u540d\u4e3ai --\x3e\n  <view wx:for="`{{books}`}" wx:key="id" wx:for-item="book" wx:for-index="i">\n    `{{book.name}`} - `{{book.price}`} - `{{i}`}\n  </view>\n</view>\n'})}),"\n",(0,i.jsx)(e.h4,{id:"\u6761\u4ef6\u6e32\u67d3",children:"\u6761\u4ef6\u6e32\u67d3"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:"<view wx:if=\"`{{view == 'WEBVIEW'}`}\"> WEBVIEW </view>\n<view wx:elif=\"`{{view == 'APP'}`}\"> APP </view>\n<view wx:else=\"`{{view == 'MINA'}`}\"> MINA </view>\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u4e00\u5224\u65ad\u5c0f\u7a0b\u5e8f\u8fdb\u5165\u7684\u573a\u666f\u9014\u5f84",children:"\u573a\u666f\u4e00\uff1a\u5224\u65ad\u5c0f\u7a0b\u5e8f\u8fdb\u5165\u7684\u573a\u666f/\u9014\u5f84"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u5728",(0,i.jsx)(e.code,{children:"onLaunch"}),"\u751f\u547d\u5468\u671f\u56de\u8c03\u51fd\u6570\u4e2d\uff0c\u4f1a\u6709",(0,i.jsx)(e.code,{children:"options"}),"\u53c2\u6570\uff0c",(0,i.jsx)(e.code,{children:"options.scene"}),"\u503c\u4e3a\u5c0f\u7a0b\u5e8f\u8fdb\u5165\u573a\u666f"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u5e38\u89c1\u7684\u6253\u5f00\u573a\u666f\uff1a\u7fa4\u804a / \u5c0f\u7a0b\u5e8f\u5217\u8868 / \u5fae\u4fe1\u626b\u4e00\u626b / \u53e6\u4e00\u4e2a\u5c0f\u7a0b\u5e8f\u6253\u5f00\u7b49"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u4e8conlaunch-\u51fd\u6570\u5e38\u89c1\u64cd\u4f5c",children:"\u573a\u666f\u4e8c\uff1aonlaunch \u51fd\u6570\u5e38\u89c1\u64cd\u4f5c"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u767b\u5f55\uff0c\u5c06\u767b\u5f55\u6210\u529f\u7684\u6570\u636e\uff0c\u4fdd\u5b58\u5230 storage"}),"\n",(0,i.jsx)(e.li,{children:"\u8bfb\u53d6\u672c\u5730\u6570\u636e\uff0c\u7c7b\u4f3c\u4e8e token\uff0c\u4fdd\u5b58\u5728\u5168\u5c40\u4f9b\u9875\u9762\u4f7f\u7528"}),"\n",(0,i.jsx)(e.li,{children:"\u8bf7\u6c42\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u7684\u6570\u636e"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"App({\n  globalData: {\n    token: '',\n    userInfo: `{}`\n  },\n  onLaunch(options) {\n    // \u4ece\u672c\u5730\u83b7\u53d6token / userInfo\n    const token = wx.getStorageSync('token');\n    const userInfo = wx.getStorageSync('userInfo');\n    // \u5982\u679c\u6ca1\u6709\u4fe1\u606f\uff0c\u5219\u8fdb\u884c\u767b\u5f55\u64cd\u4f5c\n    if (!token || !userInfo) {\n      // \u5c06\u767b\u5f55\u6210\u529f\u7684\u6570\u636e\uff0c\u4fdd\u5b58\u5230storage\n      wx.setStorageSync('token', '123');\n      wx.setStorageSync('userInfo', `{ name: 'ttt', age: 12 }`);\n    }\n\n    // \u5c06\u83b7\u53d6\u7684\u6570\u636e\u4fdd\u5b58\u5230globalData\u4e2d\n    this.globalData = `{ token, userInfo }`;\n    // \u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\uff0c\u4f18\u5148\u8bf7\u6c42\u4e00\u4e9b\u5fc5\u8981\u7684\u6570\u636e\n  },\n  onHide() {\n    console.log('\u5c0f\u7a0b\u5e8f\u5207\u540e\u53f0');\n  }\n});\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u9875\u9762\u6587\u4ef6\u4e2d\u83b7\u53d6\u5171\u4eab\u6570\u636e"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"Page({\n  data: {\n    userInfo: ''\n  },\n\n  // \u83b7\u53d6\u5168\u5c40\u6570\u636e\n  onLoad() {\n    // \u83b7\u53d6app\u5b9e\u4f8b\u5bf9\u8c61\n    const app = getApp();\n    // \u4eceapp\u5b9e\u4f8b\u5bf9\u8c61\u83b7\u53d6\u6570\u636e\n    const token = app.globalData.token; // token\n    const userInfo = app.globalData.userInfo; // \u7528\u6237\u4fe1\u606f\n    // \u62ff\u5230token\uff0c\u53d1\u9001\u7f51\u7edc\u8bf7\u6c42\n    wx.request({\n      url: 'url'\n    });\n    // \u5c06\u6570\u636e\u5c55\u793a\u5230\u9875\u9762\u4e0a\n    this.setData({\n      userInfo\n    });\n  }\n});\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u4e09\u4e8b\u4ef6\u53c2\u6570\u4f20\u9012",children:"\u573a\u666f\u4e09\uff1a\u4e8b\u4ef6\u53c2\u6570\u4f20\u9012"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u901a\u8fc7",(0,i.jsx)(e.code,{children:"data-[attr]"}),"\u4f20\u9012"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u901a\u8fc7",(0,i.jsx)(e.code,{children:"Mark"}),"\u4f20\u9012"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.code,{children:' <view mark:age="12" bind:tap="checkMark">mark\u4f20\u53c2</view>'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"  checkMark(e) {\n    console.log(e.mark.age);\n  },\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u56db\u83b7\u53d6\u8bbe\u5907\u4fe1\u606f\u81ea\u5b9a\u4e49-navbar\u80f6\u56ca\u4f4d\u7f6e\u5b89\u5168\u5e95\u90e8",children:"\u573a\u666f\u56db\uff1a\u83b7\u53d6\u8bbe\u5907\u4fe1\u606f\uff08\u81ea\u5b9a\u4e49 navbar\u3001\u80f6\u56ca\u4f4d\u7f6e\u3001\u5b89\u5168\u5e95\u90e8\uff09"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u81ea\u5b9a\u4e49 navbar"}),"\n",(0,i.jsxs)(e.p,{children:["index.json: ",(0,i.jsx)(e.code,{children:'"navigationStyle": "custom",'})]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u80f6\u56ca\u4f4d\u7f6e \u548c \u5b89\u5168\u5e95\u90e8"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"// \u83b7\u53d6\u7cfb\u7edf\u4fe1\u606f\uff1a\nconst systemInfo = wx.getSystemInfoSync();\n// \u80f6\u56ca\u6309\u94ae\u4f4d\u7f6e\u4fe1\u606f\uff1a\nconst menuButtonInfo = wx.getMenuButtonBoundingClientRect();\n// iphone\u5e95\u90e8\u5b89\u5168\u8ddd\u79bb\uff1a\nthis.globalData.safeBottom =\n  systemInfo.screenHeight - systemInfo.safeArea.bottom;\n// \u80f6\u56ca\u9ad8\u5ea6/\u5bbd\u5ea6\uff1a\nthis.globalData.menuHeight = menuButtonInfo.height;\nthis.globalData.menuWidth = menuButtonInfo.width;\n// \u72b6\u6001\u680f\u9ad8\u5ea6\nthis.globalData.statusBarHeight = systemInfo.statusBarHeight;\n// \u80f6\u56ca\u8ddd\u53f3\u65b9\u95f4\u8ddd\nthis.globalData.menuRight = systemInfo.screenWidth - menuButtonInfo.right;\n// \u80f6\u56ca\u8ddd\u5e95\u90e8\u95f4\u8ddd\nthis.globalData.menuBottom = menuButtonInfo.top - systemInfo.statusBarHeight;\n// \u80f6\u56ca\u8ddd\u9876\u90e8\u4f4d\u7f6e\nthis.globalData.menuTop = menuButtonInfo.top;\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u4e94\u8def\u7531\u8df3\u8f6c",children:"\u573a\u666f\u4e94\uff1a\u8def\u7531\u8df3\u8f6c"}),"\n",(0,i.jsxs)(e.p,{children:["1.\u8df3\u8f6c\u5230 tabBar \u9875\u9762\uff0c\u5e76\u5173\u95ed\u5176\u4ed6\u6240\u6709\u975e tabBar \u9875\u9762: ",(0,i.jsx)(e.code,{children:"wx.switchTab("}),'{url: ""}',(0,i.jsx)(e.code,{children:");"})]}),"\n",(0,i.jsxs)(e.p,{children:["2.\u5173\u95ed\u6240\u6709\u9875\u9762\uff0c\u6253\u5f00\u5230\u5e94\u7528\u5185\u7684\u67d0\u4e2a\u9875\u9762:",(0,i.jsx)(e.code,{children:"wx.reLaunch("}),'{url: ""}',(0,i.jsx)(e.code,{children:");"})]}),"\n",(0,i.jsxs)(e.p,{children:["3.\u5173\u95ed\u5f53\u524d\u9875\u9762\uff0c\u8df3\u8f6c\u5230\u5e94\u7528\u5185\u7684\u67d0\u4e2a\u9875\u9762\u3002\u4f46\u662f\u4e0d\u5141\u8bb8\u8df3\u8f6c\u5230 tabbar \u9875\u9762:",(0,i.jsx)(e.code,{children:"wx.redirectTo("}),'{url: ""}',(0,i.jsx)(e.code,{children:");"})]}),"\n",(0,i.jsxs)(e.p,{children:["4.\u4fdd\u7559\u5f53\u524d\u9875\u9762\uff0c\u8df3\u8f6c\u5230\u5e94\u7528\u5185\u7684\u67d0\u4e2a\u9875\u9762\u3002\u4f46\u662f\u4e0d\u80fd\u8df3\u5230 tabbar \u9875\u9762:",(0,i.jsx)(e.code,{children:"wx.navigateTo("}),'{url: ""}',(0,i.jsx)(e.code,{children:");"})]}),"\n",(0,i.jsxs)(e.p,{children:["5.\u5173\u95ed\u5f53\u524d\u9875\u9762\uff0c\u8fd4\u56de\u4e0a\u4e00\u9875\u9762\u6216\u591a\u7ea7\u9875\u9762:",(0,i.jsx)(e.code,{children:"wx.navigateBack("}),"{delta: 1}",(0,i.jsx)(e.code,{children:");"})]}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u516d\u624b\u673a\u53f7\u5feb\u6377\u767b\u5f55\u5fae\u4fe1\u5f00\u653e\u80fd\u529b",children:"\u573a\u666f\u516d\uff1a\u624b\u673a\u53f7\u5feb\u6377\u767b\u5f55\uff08\u5fae\u4fe1\u5f00\u653e\u80fd\u529b\uff09"}),"\n",(0,i.jsxs)(e.p,{children:["\u67e5\u8be2",(0,i.jsx)(e.a,{href:"https://developers.weixin.qq.com/miniprogram/dev/component/button.html#%E9%80%9A%E7%94%A8%E5%B1%9E%E6%80%A7",children:"\u5fae\u4fe1\u5f00\u653e\u80fd\u529b"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<van-button\n  open-type="getPhoneNumber"\n  type="primary"\n  bindgetphonenumber="getPhonenumber"\n  phone-number-no-quota-toast="`{{false}`}"\n  round\n  >\u624b\u673a\u53f7\u5feb\u6377\u767b\u5f55</van-button\n>\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:'   getPhonenumber(e) {\n    const `{ errMsg }` = e.detail;\n    if (errMsg === "getPhoneNumber:fail user deny")\n      return wx.showToast({\n        title: "\u60a8\u5df2\u62d2\u7edd\u6388\u6743",\n        icon: "error",\n        duration: 2000,\n      });\n\n    if (errMsg === "getPhoneNumber:ok") {\n      try {\n        wx.showLoading();\n        //...\u83b7\u53d6\u7528\u6237\u4fe1\u606f\n          wx.switchTab({\n            url: "/pages/index/index",\n          });\n        } finally {\n        wx.hideLoading();\n      }\n    }\n  },\n'})}),"\n",(0,i.jsxs)(e.h3,{id:"\u573a\u666f\u4e03onshow\u83b7\u53d6\u9875\u9762\u4f20\u53c2",children:["\u573a\u666f\u4e03\uff1a",(0,i.jsx)(e.code,{children:"onShow()"}),"\u83b7\u53d6\u9875\u9762\u4f20\u53c2"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:" onShow() {\n    const allPages = getCurrentPages(); //\u83b7\u53d6\u5f53\u524d\u9875\u9762\u6808\u7684\u5b9e\u4f8b\uff1b\n    console.log(allPages[allPages.length - 1].options)\n  },\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u516b\u4e0a\u4f20\u56fe\u7247",children:"\u573a\u666f\u516b\uff1a\u4e0a\u4f20\u56fe\u7247"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<van-uploader\n  multiple\n  file-list="`{{fileList}`}"\n  max-count="4"\n  deletable="`{{ true }`}"\n  preview-size="76"\n  bind:after-read="afterRead"\n  bind:delete="deleteImg"\n  sizeType="[\'original\']"\n/>\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:'  afterRead: function (event) {\n    try {\n      wx.showLoading()\n      const tempFiles = event.detail.file\n      let that = this\n      tempFiles.forEach(file => {\n        wx.uploadFile({\n          url: `$`{api.ApiRootUrl}`$`{api.UploadImg}``,\n          filePath: file.tempFilePath,\n          name: \'files\',\n          header: {\n            "Content-Type": "application/json",\n            Authorization: `Bearer $`{wx.getStorageSync("token")}``,\n          },\n          success(res) {\n            const data = JSON.parse(res.data)\n            // \u4e0a\u4f20\u5b8c\u6210\u9700\u8981\u66f4\u65b0 fileList\n            const newRes = data.Result.map(v => {\n              return {\n                url: v.FileUrl,\n                FileID: v.FileID\n              }\n            })\n            const list = that.data.fileList\n            that.setData({\n              fileList: [...list, ...newRes]\n            });\n          },\n        });\n      })\n    } finally {\n      wx.hideLoading()\n    }\n  },\n\n  deleteImg(event) {\n    let list = this.data.fileList.filter((_, i) => i !== event.detail.index)\n    this.setData({\n      fileList: list\n    })\n  },\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u4e5d\u81ea\u5b9a\u4e49\u7ec4\u4ef6",children:"\u573a\u666f\u4e5d\uff1a\u81ea\u5b9a\u4e49\u7ec4\u4ef6"}),"\n",(0,i.jsx)(e.h4,{id:"\u57fa\u7840\u4f7f\u7528\u793a\u4f8bcomponentsgoods-cpn",children:"\u57fa\u7840\u4f7f\u7528\u793a\u4f8b\uff1a/components/goods-cpn"}),"\n",(0,i.jsx)(e.p,{children:"json \u6587\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "component": true,\n  "usingComponents": `{}`\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"js \u6587\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"Component({\n  properties: `{}`, // props\n  data: `{}`,\n  methods: `{}`\n});\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u9875\u9762\u6ce8\u518c\u4f7f\u7528\u7ec4\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'  "usingComponents": {\n    "goods-cpn": "/components/goods-cpn/goods-cpn"\n  }\n'})}),"\n",(0,i.jsx)(e.h4,{id:"\u7ec4\u4ef6\u901a\u4fe1",children:"\u7ec4\u4ef6\u901a\u4fe1"}),"\n",(0,i.jsxs)(e.p,{children:["cpn(wxml)\uff1a",(0,i.jsx)(e.code,{children:'<button class="info" bind:tap="onClick">\u7ec4\u4ef6\u6309\u94ae</button>'})]}),"\n",(0,i.jsx)(e.p,{children:"cpn(js):"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"Component({\n  methods: {\n    onClick() {\n      this.triggerEvent('titleClick', '123');\n    }\n  }\n});\n"})}),"\n",(0,i.jsxs)(e.p,{children:["page(wxml):",(0,i.jsx)(e.code,{children:'<section-info bind:titleClick="onTitleClick" />'})]}),"\n",(0,i.jsx)(e.p,{children:"page(js):"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'  onTitleClick(e) {\n    console.log("\u7ec4\u4ef6\u4f20\u9012\u51fa\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6", e.detail);\n  },\n'})}),"\n",(0,i.jsx)(e.h4,{id:"\u7ec4\u4ef6\u6837\u5f0f\u9694\u79bb",children:"\u7ec4\u4ef6\u6837\u5f0f\u9694\u79bb"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"Component({\n  options: {\n    styleIsolation: 'isolated' // \u5b8c\u5168\u9694\u79bb\n  }\n});\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u53ef\u9009\u503c\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"isolated \u8868\u793a\u542f\u7528\u6837\u5f0f\u9694\u79bb\uff0c\u5728\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u5185\u5916\uff0c\u4f7f\u7528 class \u6307\u5b9a\u7684\u6837\u5f0f\u5c06\u4e0d\u4f1a\u76f8\u4e92\u5f71\u54cd\uff08\u4e00\u822c\u60c5\u51b5\u4e0b\u7684\u9ed8\u8ba4\u503c\uff09\uff1b"}),"\n",(0,i.jsx)(e.li,{children:"apply-shared \u8868\u793a\u9875\u9762 wxss \u6837\u5f0f\u5c06\u5f71\u54cd\u5230\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff0c\u4f46\u81ea\u5b9a\u4e49\u7ec4\u4ef6 wxss \u4e2d\u6307\u5b9a\u7684\u6837\u5f0f\u4e0d\u4f1a\u5f71\u54cd\u9875\u9762\uff1b"}),"\n",(0,i.jsx)(e.li,{children:"shared \u8868\u793a\u9875\u9762 wxss \u6837\u5f0f\u5c06\u5f71\u54cd\u5230\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff0c\u81ea\u5b9a\u4e49\u7ec4\u4ef6 wxss \u4e2d\u6307\u5b9a\u7684\u6837\u5f0f\u4e5f\u4f1a\u5f71\u54cd\u9875\u9762\u548c\u5176\u4ed6\u8bbe\u7f6e\u4e86 apply-shared \u6216 shared \u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u3002\uff08\u8fd9\u4e2a\u9009\u9879\u5728\u63d2\u4ef6\u4e2d\u4e0d\u53ef\u7528\u3002\uff09"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u5982\u679c Component \u7528\u4e8e\u6784\u9020\u9875\u9762 \uff0c\u5219\u9ed8\u8ba4\u503c\u4e3a shared \uff0c\u4e14\u8fd8\u6709\u4ee5\u4e0b\u51e0\u4e2a\u989d\u5916\u7684\u6837\u5f0f\u9694\u79bb\u9009\u9879\u53ef\u7528\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"page-isolated \u8868\u793a\u5728\u8fd9\u4e2a\u9875\u9762\u7981\u7528 app.wxss \uff0c\u540c\u65f6\uff0c\u9875\u9762\u7684 wxss \u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff1b"}),"\n",(0,i.jsx)(e.li,{children:"page-apply-shared \u8868\u793a\u5728\u8fd9\u4e2a\u9875\u9762\u7981\u7528 app.wxss \uff0c\u540c\u65f6\uff0c\u9875\u9762 wxss \u6837\u5f0f\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff0c\u4f46\u8bbe\u4e3a shared \u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u4f1a\u5f71\u54cd\u5230\u9875\u9762\uff1b"}),"\n",(0,i.jsx)(e.li,{children:"page-shared \u8868\u793a\u5728\u8fd9\u4e2a\u9875\u9762\u7981\u7528 app.wxss \uff0c\u540c\u65f6\uff0c\u9875\u9762 wxss \u6837\u5f0f\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u8bbe\u4e3a apply-shared \u6216 shared \u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff0c\u4e5f\u4f1a\u53d7\u5230\u8bbe\u4e3a shared \u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u7684\u5f71\u54cd\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.h4,{id:"\u5916\u90e8\u6837\u5f0f\u7c7b",children:"\u5916\u90e8\u6837\u5f0f\u7c7b"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<custom-component my-class="red-text large-text" />\n\n<custom-component class="my-class" />\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"Component({\n  externalClasses: ['my-class']\n});\n"})}),"\n",(0,i.jsx)(e.h4,{id:"\u7ec4\u4ef6\u5c40\u90e8\u5f15\u7528\u7ec4\u4ef6\u6240\u5728\u9875\u9762\u7684\u6837\u5f0f",children:"\u7ec4\u4ef6\u5c40\u90e8\u5f15\u7528\u7ec4\u4ef6\u6240\u5728\u9875\u9762\u7684\u6837\u5f0f"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.code,{children:'<view class="~blue-text" />'})}),"\n",(0,i.jsx)(e.h4,{id:"\u7ec4\u4ef6\u5f15\u7528\u7236\u7ec4\u4ef6\u7684\u6837\u5f0f",children:"\u7ec4\u4ef6\u5f15\u7528\u7236\u7ec4\u4ef6\u7684\u6837\u5f0f"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.code,{children:'<view class="^red-text" />'})}),"\n",(0,i.jsx)(e.h4,{id:"\u5b9e\u73b0-\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u5185\u90e8\u7684\u7b2c\u4e00\u5c42\u8282\u70b9\u80fd\u591f\u54cd\u5e94-flex-\u5e03\u5c40\u6216\u8005\u6837\u5f0f\u7531\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u672c\u8eab\u5b8c\u5168\u51b3\u5b9a",children:"\u5b9e\u73b0 \uff1a\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u5185\u90e8\u7684\u7b2c\u4e00\u5c42\u8282\u70b9\u80fd\u591f\u54cd\u5e94 flex \u5e03\u5c40\u6216\u8005\u6837\u5f0f\u7531\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u672c\u8eab\u5b8c\u5168\u51b3\u5b9a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"Component({\n  options: {\n    virtualHost: true\n  }\n});\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u5341\u4e0b\u62c9\u5237\u65b0--\u4e0a\u6ed1\u5237\u65b0--\u9875\u9762\u6eda\u52a8",children:"\u573a\u666f\u5341\uff1a\u4e0b\u62c9\u5237\u65b0 / \u4e0a\u6ed1\u5237\u65b0 / \u9875\u9762\u6eda\u52a8"}),"\n",(0,i.jsxs)(e.p,{children:["\u76d1\u542c\u4e0b\u62c9\u5237\u65b0\u4e8b\u4ef6\uff1a",(0,i.jsx)(e.code,{children:" onPullDownRefresh()"}),"{}``"]}),"\n",(0,i.jsx)(e.p,{children:"\u505c\u6b62\u4e0b\u62c9\u5237\u65b0\u4e8b\u4ef6:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"wx.stopPullDownRefresh({\n  success: (res) => {\n    console.log('success', res);\n  },\n  fail: (err) => {\n    console.log('fail', err);\n  }\n});\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u4e0a\u6ed1\u5237\u65b0\u914d\u7f6e\u9879"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:' "onReachBottomDistance": 20'})," \u8bbe\u7f6e\u89e6\u53d1\u4e8b\u4ef6\u8ddd\u79bb\u5e95\u90e8\u7684\u8ddd\u79bb"]}),"\n",(0,i.jsx)(e.p,{children:"\u76d1\u542c\u4e8b\u4ef6"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"  onReachBottom() {\n    console.log('\u6eda\u52a8\u5230\u5e95\u90e8');\n  }\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u9875\u9762\u6eda\u52a8"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:'  onPageScroll() {\n    console.log("scroll");\n  },\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u5341\u4e00-pdf-\u9884\u89c8",children:"\u573a\u666f\u5341\u4e00\uff1a pdf \u9884\u89c8"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5728\u4e8b\u4ef6\u4e2d\u8c03\u7528 wx.downloadFile \u65b9\u6cd5\uff0c\u6307\u5b9a\u8981\u4e0b\u8f7d\u7684 pdf \u6587\u4ef6\u7684 url \u3001\u5b58\u50a8\u8def\u5f84\u548c\u6587\u4ef6\u7684\u91cd\u547d\u540d\uff1b"}),"\n",(0,i.jsx)(e.li,{children:"\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u518d\u8c03\u7528 wx.openDocument \u65b9\u6cd5\u6253\u5f00\u8be5\u6587\u4ef6\u9884\u89c8\u3002\u5728\u8c03\u7528\u6b64\u65b9\u6cd5\u65f6\uff0c\u9700\u8981\u628a\u4e4b\u524d\u5b58\u50a8\u7684\u6587\u4ef6\u8def\u5f84\u4f20\u5165\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"  viewProtocolPdf() {\n    wx.showLoading(`{ mask: true }`);\n    const filePath = `$`{wx.env.USER_DATA_PATH}`/$`{\u91cd\u547d\u540d\u7684\u6587\u4ef6\u540d}`.pdf`\n    wx.downloadFile({\n      url: '', // \u6587\u4ef6\u8def\u5f84\n      filePath,\n      success: (`{ filePath }`) => {\n        wx.openDocument({\n          filePath,\n          complete: () => wx.hideLoading()\n        })\n      },\n      fail: () => {\n        wx.hideLoading()\n      }\n    })\n  }\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u5341\u4e8c\u5fae\u4fe1\u652f\u4ed8",children:"\u573a\u666f\u5341\u4e8c\uff1a\u5fae\u4fe1\u652f\u4ed8"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"const util = require('../utils/util.js');\nconst api = require('../config/api.js');\nfunction payOrder(orderId) {\n  return new Promise(function (resolve, reject) {\n    util\n      .request(\n        api.MiniProgramPay,\n        {\n          OutTradeNo: orderId\n        },\n        'POST'\n      )\n      .then((res) => {\n        if (res.Code === '200') {\n          const payParam = JSON.parse(res.Result.parameter);\n          wx.requestPayment({\n            ...payParam,\n            success: function (res) {\n              resolve(res);\n            },\n            fail: function (res) {\n              reject(res);\n            },\n            complete: function (res) {\n              reject(res);\n            }\n          });\n        } else {\n          reject(res);\n        }\n      });\n  });\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u5341\u4e09token-\u65e0\u611f\u5237\u65b0",children:"\u573a\u666f\u5341\u4e09\uff1atoken \u65e0\u611f\u5237\u65b0"}),"\n",(0,i.jsxs)(e.p,{children:["\u53c2\u8003 ",(0,i.jsx)(e.a,{href:"https://blog.csdn.net/Cipher_Y/article/details/134318393",children:" token \u65e0\u611f\u5237\u65b0"})]}),"\n",(0,i.jsx)(e.h3,{id:"\u573a\u666f\u5341\u56db\u5185\u5d4c-h5-\u9875\u9762",children:"\u573a\u666f\u5341\u56db\uff1a\u5185\u5d4c H5 \u9875\u9762"}),"\n",(0,i.jsx)(e.p,{children:"web-view \u7ec4\u4ef6\u529f\u80fd\u63cf\u8ff0\uff1a\u627f\u8f7d\u7f51\u9875\u7684\u5bb9\u5668\uff0c\u4f1a\u81ea\u52a8\u94fa\u6ee1\u6574\u4e2a\u5c0f\u7a0b\u5e8f\u9875\u9762\u3002"}),"\n",(0,i.jsxs)(e.p,{children:["\u5c0f\u7a0b\u5e8f\u7aef\u53ef\u901a\u8fc7 bindmessage \u51fd\u6570\u63a5\u6536 h5 \u4f20\u9012\u7684\u6570\u636e\n\u7f51\u9875\u5411\u5c0f\u7a0b\u5e8f postMessage \u65f6\uff0c\u4f1a\u5728\u4ee5\u4e0b\u7279\u5b9a\u65f6\u673a\u89e6\u53d1\u5e76\u6536\u5230\u6d88\u606f\uff1a",(0,i.jsx)(e.strong,{children:"\u5c0f\u7a0b\u5e8f\u540e\u9000\u3001\u7ec4\u4ef6\u9500\u6bc1\u3001\u5206\u4eab\u3001\u590d\u5236\u94fe\u63a5"}),"\uff082.31.1\uff09\u3002",(0,i.jsx)(e.code,{children:"e.detail = "}),"{ data }``\uff0cdata \u662f\u591a\u6b21 postMessage \u7684\u53c2\u6570\u7ec4\u6210\u7684\u6570\u7ec4\u3002"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-html",children:'<web-view src="`{{url}`}" bindmessage="receiveMsg"></web-view>\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"receiveMessage(e){\n    console.log(e.detail)//\u63a5\u6536H5\u4f20\u8fc7\u6765\u7684\u6570\u636e\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"H5 \u9875\u9762\u901a\u8fc7 postMessage \u53d1\u9001\u6570\u636e"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-javascript",children:"wx.miniProgram.postMessage(`{ data: { foo: 'bar' }` });\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(t,{...n})}):t(n)}},20754:(n,e,s)=>{s.d(e,{A:()=>l});const l=s.p+"assets/images/\u5c0f\u7a0b\u5e8f\u751f\u547d\u5468\u671f-e8af207c39c549e040c65f0e51a5ad4c.png"},28453:(n,e,s)=>{s.d(e,{R:()=>c,x:()=>a});var l=s(96540);const i={},r=l.createContext(i);function c(n){const e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),l.createElement(r.Provider,{value:e},n.children)}},34944:(n,e,s)=>{s.d(e,{A:()=>l});const l=s.p+"assets/images/\u8fd0\u884c\u73af\u5883-d425132e2b31e11fb6c3cad0821940a3.png"},50541:(n,e,s)=>{s.d(e,{A:()=>l});const l=s.p+"assets/images/\u751f\u547d\u5468\u671f-c10255ac7ff4a2574ac6917838a16b6f.png"},67993:(n,e,s)=>{s.d(e,{A:()=>l});const l=s.p+"assets/images/menu-eb9721990bd8f6f8e8052ca21cff98ed.jpg"},77181:(n,e,s)=>{s.d(e,{A:()=>l});const l=s.p+"assets/images/preload-304eb1ec2e7acb915cdaa85532d08829.jpg"},91930:(n,e,s)=>{s.d(e,{A:()=>l});const l=s.p+"assets/images/subpackage-9481e36c457ab424d3b74345283c7812.jpg"}}]);